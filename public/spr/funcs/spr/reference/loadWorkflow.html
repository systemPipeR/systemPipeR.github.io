<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Constructs SYSargs2 object from CWL param and targets files — loadWorkflow • systemPipeR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Constructs SYSargs2 object from CWL param and targets files — loadWorkflow"><meta property="og:description" content="The constructor functions create an SYSargs2 S4 class object from three 
input files: a CWL param and input files, and one simple tabular 
or yml file, a targets file. The latter is optional for workflow steps 
lacking input files. TheCWL param provides all the parameters required 
for running command-line software, following the standard and specification 
defined on Common Workflow Language (CWL). 
The input file provides additional information for the command-line, 
allowing each sample level input/outfile operation uses its own SYSargs2 
instance. In the targets file users could provide the paths to the initial 
sample input files (e.g. FASTQ) along with sample labels, and if appropriate 
biological replicate and contrast information for controlling differential 
abundance analyses.
The renderWF function populates all the command-line for each sample in 
each step of the particular workflow. Each sample level input/outfile operation 
uses its own SYSargs2 instance. The output of SYSargs2 define all 
the expected output files for each step in the workflow, which usually it is the
sample input for the next step in an SYSargs2 instance. 
By chaining several SYSargs2 steps together one can construct complex 
workflows involving many sample-level input/output file operations with any 
combination of command-line or R-based software. Between different instances, 
this connectivity is established by `appendStep&amp;lt;-` method. Please 
check more details from SYSargsList-class class."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-CCMXLYXWYV"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CCMXLYXWYV');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">systemPipeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Constructs SYSargs2 object from CWL param and targets files</h1>
    
    <div class="hidden name"><code>loadWorkflow.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The constructor functions create an <code>SYSargs2</code> S4 class object from three 
input files: a <code>CWL param</code> and <code>input</code> files, and one simple tabular 
or yml file, a <code>targets</code> file. The latter is optional for workflow steps 
lacking input files. The<code>CWL param</code> provides all the parameters required 
for running command-line software, following the standard and specification 
defined on <a href="https://www.commonwl.org/" class="external-link">Common Workflow Language (CWL)</a>. 
The <code>input</code> file provides additional information for the command-line, 
allowing each sample level input/outfile operation uses its own <code>SYSargs2</code> 
instance. In the <code>targets</code> file users could provide the paths to the initial 
sample input files (e.g. FASTQ) along with sample labels, and if appropriate 
biological replicate and contrast information for controlling differential 
abundance analyses.</p>
<p>The <code>renderWF</code> function populates all the command-line for each sample in 
each step of the particular workflow. Each sample level input/outfile operation 
uses its own <code>SYSargs2</code> instance. The output of <code>SYSargs2</code> define all 
the expected output files for each step in the workflow, which usually it is the
sample input for the next step in an <code>SYSargs2</code> instance. 
By chaining several <code>SYSargs2</code> steps together one can construct complex 
workflows involving many sample-level input/output file operations with any 
combination of command-line or R-based software. Between different instances, 
this connectivity is established by <code>`appendStep&lt;-`</code> method. Please 
check more details from <code><a href="SYSargsList-class.html">SYSargsList-class</a></code> class.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">loadWorkflow</span><span class="op">(</span>targets <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">wf_file</span>, <span class="va">input_file</span>, dir_path <span class="op">=</span> <span class="st">"param/cwl"</span>, id <span class="op">=</span> <span class="st">"SampleName"</span><span class="op">)</span>

<span class="fu">renderWF</span><span class="op">(</span><span class="va">WF</span>, inputvars <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu">updateWF</span><span class="op">(</span><span class="va">WF</span>, write.yaml<span class="op">=</span><span class="cn">FALSE</span>, name.yaml<span class="op">=</span><span class="st">"default"</span>, new_targets<span class="op">=</span><span class="cn">NULL</span>,
                     new_targetsheader<span class="op">=</span><span class="cn">NULL</span>, inputvars<span class="op">=</span><span class="cn">NULL</span>, silent<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>targets</dt>
<dd><p>either the path to <code>targets</code> file or an object of <code>SummarizedExperiment</code> class.
  The <code>targets</code> file can be either a simple tabular or yml file. Also,
  it is possible to assign <code>NULL</code> to run the pipeline without the 'targets'
  file. This can be useful for running specific workflows that do not require input files.</p></dd>
<dt>wf_file</dt>
<dd><p>name and path to <code>CWL parameters</code> file.</p></dd>
<dt>input_file</dt>
<dd><p>name and path to <code>input parameters</code> file.</p></dd>
<dt>dir_path</dt>
<dd><p>path to the <code>parameters</code> directory with the <code>wf_file</code> and 
  <code>input_file</code> files.
  It is recommended to keep both files in the same directory.</p></dd>
<dt>id</dt>
<dd><p>A column from <code>targets</code> file, which will be used as an id for each one
  of the samples. It is required to be unique.</p></dd>
<dt>WF</dt>
<dd><p>Object of class <code>SYSargs2</code>, generated by <code>loadWF</code> .</p></dd>
<dt>inputvars</dt>
<dd><p>named character vector. Variables defined in the <code>input</code> file that matches 
  the column names defined in the <code>targets</code> file.</p></dd>
<dt>write.yaml</dt>
<dd><p>logical. If set to <code>TRUE</code>, it will write to file the content of the 
  CWL files: <code>*.yml</code>. Default is <code>FALSE</code>.</p></dd>
<dt>name.yaml</dt>
<dd><p>name and path to <code>input parameters</code> file, if <code>write.yaml</code> is set to
   <code>TRUE</code>. Default value will write a file at the same directory of 
   <code>dir_path</code> appending to the file name the current date.</p></dd>
<dt>new_targets</dt>
<dd><p>new targets files as list. 'targets' <code>data.frame</code> can be converted by 
  <code>targets.as.list</code> function. Default is <code>NULL</code>, 
  and it will maintain the original.</p></dd>
<dt>new_targetsheader</dt>
<dd><p>character. New header/comment lines of targets file. Default is <code>NULL</code>, 
  and it will maintain the original.</p></dd>
<dt>silent</dt>
<dd><p>If set to <code>TRUE</code>, all messages returned by the function will be suppressed.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p><code>SYSargs2</code> object.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Daniela Cassol and Thomas Girke</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code>showClass("SYSargs2")</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co">## Construct SYSargs2 object from CWl param, CWL input, and targets files </span></span>
<span class="r-in"><span class="va">targets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"targets.txt"</span>, package<span class="op">=</span><span class="st">"systemPipeR"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">dir_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/cwl"</span>, package<span class="op">=</span><span class="st">"systemPipeR"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">WF</span> <span class="op">&lt;-</span> <span class="fu">loadWorkflow</span><span class="op">(</span>targets<span class="op">=</span><span class="va">targets</span>, wf_file<span class="op">=</span><span class="st">"hisat2/hisat2-mapping-se.cwl"</span>, </span>
<span class="r-in">                  input_file<span class="op">=</span><span class="st">"hisat2/hisat2-mapping-se.yml"</span>, dir_path<span class="op">=</span><span class="va">dir_path</span><span class="op">)</span></span>
<span class="r-in"><span class="va">WF</span> <span class="op">&lt;-</span> <span class="fu">renderWF</span><span class="op">(</span><span class="va">WF</span>, inputvars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/S4Vectors/man/Vector-class.html" class="external-link">c</a></span><span class="op">(</span>FileName<span class="op">=</span><span class="st">"_FASTQ_PATH1_"</span>, SampleName<span class="op">=</span><span class="st">"_SampleName_"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">WF</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00; font-weight: bold;">Instance of 'SYSargs2':</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Slot names/accessors: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       targets: 18 (M1A...V12B), targetsheader: 4 (lines)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       modules: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       wf: 0, clt: 1, yamlinput: 7 (inputs)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       input: 18, output: 18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       cmdlist: 18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Sub Steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1. hisat2-mapping-se (rendered: TRUE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## If required to update the object</span></span>
<span class="r-in"><span class="fu"><a href="SYSargsList-class.html">yamlinput</a></span><span class="op">(</span><span class="va">WF</span>, <span class="st">"thread"</span><span class="op">)</span>  <span class="op">&lt;-</span> <span class="fl">6L</span></span>
<span class="r-in"><span class="va">WF</span> <span class="op">&lt;-</span> <span class="fu">updateWF</span><span class="op">(</span><span class="va">WF</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="SYSargsList-class.html">cmdlist</a></span><span class="op">(</span><span class="va">WF</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $M1A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $M1A$`hisat2-mapping-se`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "hisat2 -S ./results/M1A.sam  -x ./data/tair10.fasta  -k 1  --min-intronlen 30  --max-intronlen 3000  -U ./data/SRR446027_1.fastq.gz --threads 6"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu"><a href="SYSargsList-class.html">yamlinput</a></span><span class="op">(</span><span class="va">WF</span><span class="op">)</span><span class="op">$</span><span class="va">thread</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="http://girke.bioinformatics.ucr.edu/" class="external-link">Thomas Girke</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

