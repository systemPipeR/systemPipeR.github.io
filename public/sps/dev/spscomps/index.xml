<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>sysPipe – spsComps</title><link>/sps/dev/spscomps/</link><description>Recent content in spsComps on sysPipe</description><generator>Hugo -- gohugo.io</generator><atom:link href="/sps/dev/spscomps/index.xml" rel="self" type="application/rss+xml"/><item><title>Sps: UI components</title><link>/sps/dev/spscomps/ui/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/sps/dev/spscomps/ui/</guid><description>
&lt;link href="../../../rmarkdown-libs/spsComps-css/css/sps-comps.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/sps-gotop/js/sps_gotop.js">&lt;/script>
&lt;script src="../../../rmarkdown-libs/spsComps-js/js/sps-comps.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/spsComps-css/css/sps-comps.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-js/js/sps-comps.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/spsComps-css/css/sps-comps.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-js/js/sps-comps.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/spsComps-css/css/sps-comps.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-js/js/sps-comps.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/spsComps-css/css/sps-comps.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-js/js/sps-comps.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/spsComps-css/css/sps-comps.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-js/js/sps-comps.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/spsComps-css/css/sps-comps.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/sps-pop-tip/js/bs3pop_tip.js">&lt;/script>
&lt;script src="../../../rmarkdown-libs/sps-pop-tip/js/bs3pop_tip.js">&lt;/script>
&lt;script src="../../../rmarkdown-libs/sps-pop-tip/js/bs3pop_tip.js">&lt;/script>
&lt;script src="../../../rmarkdown-libs/spsComps-animation/js/sps_animation.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-animation/js/sps_animation.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-animation/js/sps_animation.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-animation/js/sps_animation.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-animation/js/sps_animation.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-animation/js/sps_animation.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-animation/js/sps_animation.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-animation/js/sps_animation.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome-animation/css/font-awesome-animation.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/all.min.css" rel="stylesheet" />
&lt;link href="../../../rmarkdown-libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-css-loader-js/js/sps_cssloader.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/spsComps-css-loader-css/css/css_loader.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-css-loader-js/js/sps_cssloader.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/spsComps-css-loader-css/css/css_loader.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-css-loader-js/js/sps_cssloader.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/spsComps-css-loader-css/css/css_loader.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-css-loader-js/js/sps_cssloader.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/spsComps-css-loader-css/css/css_loader.css" rel="stylesheet" />
&lt;script src="../../../rmarkdown-libs/spsComps-css-loader-js/js/sps_cssloader.js">&lt;/script>
&lt;link href="../../../rmarkdown-libs/spsComps-css-loader-css/css/css_loader.css" rel="stylesheet" />
&lt;p>For most of the UI components, you can view them in the &lt;a href="https://lezhang.shinyapps.io/spsComps">online Shiny demo{blk}&lt;/a>.
Most but &lt;strong>not all&lt;/strong> UI components work in a Rmarkdown document. Here we demostrate
how you could use some of them in a Rmarkdown doc. The source code of this
document is on &lt;a href="https://raw.githubusercontent.com/systemPipeR/systemPipeR.github.io/main/content/en/sps/dev/spscomps/ui.Rmd">Github{blk}&lt;/a>.&lt;/p>
&lt;h2 id="load-package">load package&lt;/h2>
&lt;p>To start to use &lt;code>spsComps&lt;/code>, load it in your Shiny app file or Rmarkdown file&lt;/p>
&lt;pre>&lt;code class="language-r">library(spsComps)
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## Loading required package: shiny
## Loading required package: spsUtil
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-r">library(magrittr)
&lt;/code>&lt;/pre>
&lt;p>So you can see it depends on &lt;code>shiny&lt;/code> and &lt;code>spsUtil&lt;/code>. When you load it, there is no
need to additionally load &lt;code>shiny&lt;/code> or &lt;code>spsUtil&lt;/code>.&lt;/p>
&lt;h2 id="spsgotop">&lt;code>spsGoTop&lt;/code>&lt;/h2>
&lt;p>A go top button.&lt;/p>
&lt;pre>&lt;code class="language-r">spsGoTop()
&lt;/code>&lt;/pre>
&lt;div class="sps-gotop" id="gotop" style="right: 1rem;&amp;#10;bottom: 10rem;&amp;#10;fill: #337ab7;" data-toggle="tooltip" data-placement="left" title="Go Top" onclick="goTop()">
&lt;svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
&lt;path d="M526.60727968 10.90185116
a27.675 27.675 0 0 0-29.21455937 0
c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402
394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903
c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765
54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777
c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017
42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696
6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492
c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158
55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489
52.69160879-4.22606768a371.15156223 371.15156223 0 0 0
11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001
462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103
357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z">
&lt;/path>
&lt;path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686
1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328
82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037
30.59548842-82.51086798 68.34111062z">
&lt;/path>
&lt;/svg>
&lt;/div>
&lt;p>It will not be display inline of the Rmd, just simply call it and maybe change the
style as you want. By default, a “go to top” button will be created on the &lt;strong>bottom-right&lt;/strong>
&lt;strong>corner&lt;/strong>. Now scroll this page, and you should see it (the rocket button).&lt;/p>
&lt;h2 id="gallery">&lt;code>gallery&lt;/code>&lt;/h2>
&lt;pre>&lt;code class="language-r">texts &amp;lt;- c(&amp;quot;p1&amp;quot;, &amp;quot;p2&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;p4&amp;quot;, &amp;quot;p5&amp;quot;)
hrefs &amp;lt;- c(&amp;quot;https://github.com/lz100/spsComps/blob/master/img/1.jpg?raw=true&amp;quot;,
&amp;quot;https://github.com/lz100/spsComps/blob/master/img/2.jpg?raw=true&amp;quot;,
&amp;quot;&amp;quot;,
&amp;quot;https://github.com/lz100/spsComps/blob/master/img/4.jpg?raw=true&amp;quot;,
&amp;quot;https://github.com/lz100/spsComps/blob/master/img/5.jpg?raw=true&amp;quot;)
images &amp;lt;- c(&amp;quot;https://github.com/lz100/spsComps/blob/master/img/1.jpg?raw=true&amp;quot;,
&amp;quot;https://github.com/lz100/spsComps/blob/master/img/2.jpg?raw=true&amp;quot;,
&amp;quot;https://github.com/lz100/spsComps/blob/master/img/3.jpg?raw=true&amp;quot;,
&amp;quot;https://github.com/lz100/spsComps/blob/master/img/4.jpg?raw=true&amp;quot;,
&amp;quot;https://github.com/lz100/spsComps/blob/master/img/5.jpg?raw=true&amp;quot;)
gallery(
texts = texts, hrefs = hrefs, images = images,
enlarge = TRUE,
enlarge_method = &amp;quot;modal&amp;quot;
)
&lt;/code>&lt;/pre>
&lt;div id="gallery7850842" class="col sps-gallery" style="">
&lt;p class="text-center h2" style="color: #0275d8;">Gallery&lt;/p>
&lt;div class="row" style=" margin: 10px;">&lt;div id=gallery7850842-1 class="col-sm-4 sps-tab-link" style="right: 1px;">
&lt;img
src="https://github.com/lz100/spsComps/blob/master/img/1.jpg?raw=true" class="img-gallery"
height=300 width=400
style="width: 100%;"
onclick=galEnlarge("#gallery7850842-1")
>
&lt;a href="https://github.com/lz100/spsComps/blob/master/img/1.jpg?raw=true" >&lt;p class="text-center h4 ">p1&lt;/p>&lt;/a>
&lt;/div> &lt;div id=gallery7850842-2 class="col-sm-4 sps-tab-link" style="right: 1px;">
&lt;img
src="https://github.com/lz100/spsComps/blob/master/img/2.jpg?raw=true" class="img-gallery"
height=300 width=400
style="width: 100%;"
onclick=galEnlarge("#gallery7850842-2")
>
&lt;a href="https://github.com/lz100/spsComps/blob/master/img/2.jpg?raw=true" >&lt;p class="text-center h4 ">p2&lt;/p>&lt;/a>
&lt;/div> &lt;div id=gallery7850842-3 class="col-sm-4 sps-tab-link" style="right: 1px;">
&lt;img
src="https://github.com/lz100/spsComps/blob/master/img/3.jpg?raw=true" class="img-gallery"
height=300 width=400
style="width: 100%;"
onclick=galEnlarge("#gallery7850842-3")
>
&lt;a >&lt;p class="text-center h4 gallery-nohover">&amp;nbsp;&lt;/p>&lt;/a>
&lt;/div> &lt;div id=gallery7850842-4 class="col-sm-4 sps-tab-link" style="right: 1px;">
&lt;img
src="https://github.com/lz100/spsComps/blob/master/img/4.jpg?raw=true" class="img-gallery"
height=300 width=400
style="width: 100%;"
onclick=galEnlarge("#gallery7850842-4")
>
&lt;a href="https://github.com/lz100/spsComps/blob/master/img/4.jpg?raw=true" >&lt;p class="text-center h4 ">p4&lt;/p>&lt;/a>
&lt;/div> &lt;div id=gallery7850842-5 class="col-sm-4 sps-tab-link" style="right: 1px;">
&lt;img
src="https://github.com/lz100/spsComps/blob/master/img/5.jpg?raw=true" class="img-gallery"
height=300 width=400
style="width: 100%;"
onclick=galEnlarge("#gallery7850842-5")
>
&lt;a href="https://github.com/lz100/spsComps/blob/master/img/5.jpg?raw=true" >&lt;p class="text-center h4 ">p5&lt;/p>&lt;/a>
&lt;/div>&lt;/div>
&lt;!--SHINY.SINGLETON[7fdec3ac87205a269983f4a367a45b9599c89d0b]-->
&lt;div id="sps-gallery-modal" class="gallery-modal" onclick="galModalClose()">
&lt;span class="gallery-modal-close">X&lt;/span>
&lt;img id="sps-gallery-modal-content" class="gallery-modal-content"/>
&lt;div class="gallery-caption">&lt;/div>
&lt;/div>
&lt;!--/SHINY.SINGLETON[7fdec3ac87205a269983f4a367a45b9599c89d0b]-->
&lt;script>fixGalHeight("gallery7850842")&lt;/script>
&lt;/div>
&lt;p>You can show a gallery of plots you make in the Rmd and when people click it,
it will be enlarged. You can also specify a link for each image.&lt;/p>
&lt;h2 id="logos">Logos&lt;/h2>
&lt;h3 id="a-single-one-with-hexlogo">a single one with &lt;code>hexLogo&lt;/code>&lt;/h3>
&lt;pre>&lt;code class="language-r">hexLogo(
&amp;quot;logo&amp;quot;, &amp;quot;Logo&amp;quot;,
hex_img = &amp;quot;https://live.staticflickr.com/7875/46106952034_954b8775fa_b.jpg&amp;quot;,
hex_link = &amp;quot;https://www.google.com&amp;quot;,
footer = &amp;quot;Footer&amp;quot;,
footer_link = &amp;quot;https://www.google.com&amp;quot;
)
&lt;/code>&lt;/pre>
&lt;div id="logo" class="hex-container">
&lt;span class="text-info">Logo&lt;/span>&lt;br>
&lt;svg class="hex-box" viewBox="0 0 100 115" version="1.1" xmlns="http://www.w3.org/2000/svg">
&lt;defs>
&lt;pattern id="logo-hex" patternUnits="userSpaceOnUse" height="100%" width="100%">
&lt;image href="https://live.staticflickr.com/7875/46106952034_954b8775fa_b.jpg" x="-10" y="-20" height="125%" width="125%" />
&lt;/pattern>
&lt;/defs>
&lt;a href="https://www.google.com" >&lt;polygon class="hex" points="50 1 95 25 95 75 50 99 5 75 5 25"fill="url(#logo-hex)" stroke="var(--primary)"stroke-width="2"/>&lt;/a>
&lt;text x=10 y=115>&lt;a class="powerby-link"href="https://www.google.com" target="_blank">Footer&lt;/a>&lt;/text>
&lt;/svg>
&lt;/div>
&lt;h3 id="a-panel-of-logos-with-hexpanel">a panel of logos with &lt;code>hexPanel&lt;/code>&lt;/h3>
&lt;pre>&lt;code class="language-r">hexPanel(
&amp;quot;demo1&amp;quot;, &amp;quot;&amp;quot; ,
rep(&amp;quot;https://live.staticflickr.com/7875/46106952034_954b8775fa_b.jpg&amp;quot;, 2)
)
&lt;/code>&lt;/pre>
&lt;div class="row hex-panel">
&lt;h5 class="text-primary">&lt;/h5>
&lt;div class="hex-item">&lt;div id="demo11" class="hex-container">
&lt;svg class="hex-box" viewBox="0 0 100 115" version="1.1" xmlns="http://www.w3.org/2000/svg">
&lt;defs>
&lt;pattern id="demo11-hex" patternUnits="userSpaceOnUse" height="100%" width="100%">
&lt;image href="https://live.staticflickr.com/7875/46106952034_954b8775fa_b.jpg" x="-10" y="-20" height="125%" width="125%" />
&lt;/pattern>
&lt;/defs>
&lt;polygon points="50 1 95 25 95 75 50 99 5 75 5 25"fill="url(#demo11-hex)" stroke="var(--primary)"stroke-width="2"/>
&lt;/svg>
&lt;/div>&lt;/div>
&lt;div class="hex-item">&lt;div id="demo12" class="hex-container">
&lt;svg class="hex-box" viewBox="0 0 100 115" version="1.1" xmlns="http://www.w3.org/2000/svg">
&lt;defs>
&lt;pattern id="demo12-hex" patternUnits="userSpaceOnUse" height="100%" width="100%">
&lt;image href="https://live.staticflickr.com/7875/46106952034_954b8775fa_b.jpg" x="-10" y="-20" height="125%" width="125%" />
&lt;/pattern>
&lt;/defs>
&lt;polygon points="50 1 95 25 95 75 50 99 5 75 5 25"fill="url(#demo12-hex)" stroke="var(--primary)"stroke-width="2"/>
&lt;/svg>
&lt;/div>&lt;/div>
&lt;/div>
&lt;h2 id="buttons">Buttons&lt;/h2>
&lt;h3 id="some-colorful-buttons-hreftab">Some colorful buttons &lt;code>hrefTab&lt;/code>&lt;/h3>
&lt;pre>&lt;code class="language-r">hrefTab(
title = &amp;quot;Different background and text colors&amp;quot;,
label_texts = c(&amp;quot;Go top&amp;quot;, &amp;quot;Disabled&amp;quot;, &amp;quot;Email me&amp;quot;),
hrefs = c(&amp;quot;#&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;mailto:xxx@abc.com&amp;quot;),
bg_colors = c(&amp;quot;green&amp;quot;, &amp;quot;#eee&amp;quot;, &amp;quot;orange&amp;quot;),
text_colors = c(&amp;quot;#caffc1&amp;quot;, &amp;quot;black&amp;quot;, &amp;quot;blue&amp;quot;)
)
&lt;/code>&lt;/pre>
&lt;div id="list-tab8821111" class="col">
&lt;p class="h4" style="color: #0275d8; text-align: left;">Different background and text colors&lt;/p>
&lt;div>&lt;a
href="#"
class="href-button sps-tab-link "
style="background-color: green; color: #caffc1;"
>
Go top
&lt;/a>
&lt;a
href="javascript:null;"
class="href-button sps-tab-link nohover"
style="background-color: #eee; color: black;"
>
Disabled
&lt;/a>
&lt;a
href="mailto:xxx@abc.com"
class="href-button sps-tab-link "
style="background-color: orange; color: blue;"
>
Email me
&lt;/a>
&lt;/div>
&lt;/div>
&lt;h3 id="a-table-colorful-buttons-hreftable">A table colorful buttons &lt;code>hrefTable&lt;/code>&lt;/h3>
&lt;pre>&lt;code class="language-r">hrefTable(
title = &amp;quot;Change button color and text color&amp;quot;,
item_titles = c(&amp;quot;workflow 1&amp;quot;, &amp;quot;No links&amp;quot;),
item_labels = list(c(&amp;quot;tab 1&amp;quot;), c(&amp;quot;tab 3&amp;quot;, &amp;quot;tab 4&amp;quot;)),
item_hrefs = list(c(&amp;quot;https://www.google.com/&amp;quot;), c(&amp;quot;&amp;quot;, &amp;quot;&amp;quot;)),
item_bg_colors = list(c(&amp;quot;blue&amp;quot;), c(&amp;quot;red&amp;quot;, &amp;quot;orange&amp;quot;)),
item_text_colors = list(c(&amp;quot;black&amp;quot;), c(&amp;quot;yellow&amp;quot;, &amp;quot;green&amp;quot;)),
style = &amp;quot;display: table;&amp;quot;
)
&lt;/code>&lt;/pre>
&lt;table id="list-table2920574" class="table table-hover table-href table-striped" style="display: table;">
&lt;caption class="text-center h2" style="color: #0275d8;">Change button color and text color&lt;/caption>
&lt;thead>
&lt;tr class="info">
&lt;th>Category&lt;/th>
&lt;th>Options&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody> &lt;tr>
&lt;td class="h4" style="color: #0275d8;">workflow 1&lt;/td>
&lt;td>&lt;a
href="https://www.google.com/"
class="href-button sps-tab-link"
style="background-color: blue; color: black;"
>
tab 1
&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td class="h4" style="color: #0275d8;">No links&lt;/td>
&lt;td>&lt;a
href="javascript:null;"
class="href-button nohover sps-tab-link"
style="background-color: red; color: yellow;"
>
tab 3
&lt;/a>&lt;a
href="javascript:null;"
class="href-button nohover sps-tab-link"
style="background-color: orange; color: green;"
>
tab 4
&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;pre>&lt;code class="language-r">hrefTable(
title = &amp;quot;Change row name colors and width&amp;quot;,
item_titles = c(&amp;quot;Green&amp;quot;, &amp;quot;Red&amp;quot;, &amp;quot;Orange&amp;quot;),
item_labels = list(c(&amp;quot;tab 1&amp;quot;), c(&amp;quot;tab 3&amp;quot;, &amp;quot;tab 4&amp;quot;), c(&amp;quot;tab 5&amp;quot;, &amp;quot;tab 6&amp;quot;, &amp;quot;tab 7&amp;quot;)),
item_hrefs = list(
c(&amp;quot;https://www.google.com/&amp;quot;),
c(&amp;quot;&amp;quot;, &amp;quot;&amp;quot;),
c(&amp;quot;https://www.google.com/&amp;quot;, &amp;quot;https://www.google.com/&amp;quot;, &amp;quot;&amp;quot;)
),
item_title_colors = c(&amp;quot;green&amp;quot;, &amp;quot;red&amp;quot;, &amp;quot;orange&amp;quot;),
style = &amp;quot;display: table;&amp;quot;
)
&lt;/code>&lt;/pre>
&lt;table id="list-table5460883" class="table table-hover table-href table-striped" style="display: table;">
&lt;caption class="text-center h2" style="color: #0275d8;">Change row name colors and width&lt;/caption>
&lt;thead>
&lt;tr class="info">
&lt;th>Category&lt;/th>
&lt;th>Options&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody> &lt;tr>
&lt;td class="h4" style="color: green;">Green&lt;/td>
&lt;td>&lt;a
href="https://www.google.com/"
class="href-button sps-tab-link"
style="background-color: #337ab7; color: white;"
>
tab 1
&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td class="h4" style="color: red;">Red&lt;/td>
&lt;td>&lt;a
href="javascript:null;"
class="href-button nohover sps-tab-link"
style="background-color: #337ab7; color: white;"
>
tab 3
&lt;/a>&lt;a
href="javascript:null;"
class="href-button nohover sps-tab-link"
style="background-color: #337ab7; color: white;"
>
tab 4
&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td class="h4" style="color: orange;">Orange&lt;/td>
&lt;td>&lt;a
href="https://www.google.com/"
class="href-button sps-tab-link"
style="background-color: #337ab7; color: white;"
>
tab 5
&lt;/a>&lt;a
href="https://www.google.com/"
class="href-button sps-tab-link"
style="background-color: #337ab7; color: white;"
>
tab 6
&lt;/a>&lt;a
href="javascript:null;"
class="href-button nohover sps-tab-link"
style="background-color: #337ab7; color: white;"
>
tab 7
&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>The table caption is on top in Shiny but on bottom in Rmd. You may also want to
add the &lt;code>style = &amp;quot;display: table;&amp;quot;&lt;/code> in Rmd to make the table occupy full length of
the document in R markdown.&lt;/p>
&lt;h2 id="show-tips-with-bshoverpopover">show tips with &lt;code>bsHoverPopover&lt;/code>&lt;/h2>
&lt;p>Space in a document is valuable. Sometimes you do not want to explain too much in
the main text but still want to give readers some additional information. Use
a popover to hide your additional text can be useful.&lt;/p>
&lt;h3 id="on-a-button">On a button&lt;/h3>
&lt;pre>&lt;code class="language-r">actionButton(&amp;quot;a_btn&amp;quot;, &amp;quot;A button&amp;quot;, class = &amp;quot;btn-primary&amp;quot;) %&amp;gt;%
bsHoverPopover(
title = &amp;quot;title a&amp;quot;,
content = &amp;quot;popover works on a button&amp;quot;,
placement = &amp;quot;bottom&amp;quot;
)
&lt;/code>&lt;/pre>
&lt;p>&lt;button class="btn btn-default action-button btn-primary" data-content="popover works on a button" data-placement="bottom" data-toggle="popover" id="a_btn" pop-toggle="hover" title="title a" type="button">A button&lt;/button>&lt;/p>
&lt;h3 id="on-a-link">On a link&lt;/h3>
&lt;pre>&lt;code class="language-r">tags$a(href=&amp;quot;mailto:xxx@abc.com&amp;quot;, &amp;quot;Email&amp;quot;) %&amp;gt;%
bsHoverPopover(
title = &amp;quot;Email me&amp;quot;,
content = &amp;quot;popover works on a link&amp;quot;,
placement = &amp;quot;bottom&amp;quot;
)
&lt;/code>&lt;/pre>
&lt;p>&lt;a href="mailto:xxx@abc.com" title="Email me" data-toggle="popover" data-content="popover works on a link" data-placement="bottom" pop-toggle="hover">Email&lt;/a>&lt;/p>
&lt;h3 id="on-a-plot">On a plot&lt;/h3>
&lt;pre>&lt;code class="language-r">png(&amp;quot;random_plot.png&amp;quot;)
plot(1:10, 10:1)
dev.off()
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## png
## 2
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-r">tags$img(src = &amp;quot;../random_plot.png&amp;quot;) %&amp;gt;%
bsHoverPopover(
title = &amp;quot;My plot&amp;quot;,
content = &amp;quot;popover works on a plot&amp;quot;,
placement = &amp;quot;right&amp;quot;
)
&lt;/code>&lt;/pre>
&lt;img src="../random_plot.png" title="My plot" data-toggle="popover" data-content="popover works on a plot" data-placement="right" pop-toggle="hover"/>
&lt;h2 id="animations">Animations&lt;/h2>
&lt;h3 id="animateui">&lt;code>animateUI&lt;/code>&lt;/h3>
&lt;p>Add animations to existing components with &lt;strong>&lt;code>animateUI&lt;/code>&lt;/strong>&lt;/p>
&lt;h4 id="to-buttons">To buttons&lt;/h4>
&lt;pre>&lt;code class="language-r">tags$button(id = &amp;quot;btn1&amp;quot;, &amp;quot;random button&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;button id="btn1">random button&lt;/button>&lt;/p>
&lt;pre>&lt;code class="language-r">animateUI(&amp;quot;btn1&amp;quot;, animation = &amp;quot;ring&amp;quot;)
&lt;/code>&lt;/pre>
&lt;script>addSpsAnimation("#btn1", "sps-animation faa-ring animated ")&lt;/script>
&lt;h4 id="to-some-text">To some text&lt;/h4>
&lt;pre>&lt;code class="language-r">p(id = &amp;quot;mytext&amp;quot;, class = &amp;quot;text-red&amp;quot;, &amp;quot;some move text&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p id="mytext" class="text-red">some move text&lt;/p>
&lt;pre>&lt;code class="language-r">animateUI(&amp;quot;mytext&amp;quot;, animation = &amp;quot;horizontal&amp;quot;, speed = &amp;quot;fast&amp;quot;)
&lt;/code>&lt;/pre>
&lt;script>addSpsAnimation("#mytext", "sps-animation faa-horizontal animated faa-fast")&lt;/script>
&lt;h4 id="on-hover-move-mouse-on-the-red-thumb">On hover, move mouse on the red thumb&lt;/h4>
&lt;pre>&lt;code class="language-r">tags$button(
id = &amp;quot;btn2&amp;quot;,
icon(id = &amp;quot;myicon&amp;quot;, &amp;quot;thumbs-o-up&amp;quot;),
style = &amp;quot;color: red; boarder: initial; border-color: transparent;&amp;quot;
)
&lt;/code>&lt;/pre>
&lt;button id="btn2" style="color: red; boarder: initial; border-color: transparent;">
&lt;i class="fa fa-thumbs-o-up" role="presentation" aria-label="thumbs-o-up icon" id="myicon">&lt;/i>
&lt;/button>
&lt;pre>&lt;code class="language-r">animateUI(&amp;quot;btn2&amp;quot;, animation = &amp;quot;bounce&amp;quot;, speed = &amp;quot;fast&amp;quot;, hover = TRUE)
&lt;/code>&lt;/pre>
&lt;script>addSpsAnimation("#btn2", "sps-animation faa-bounce animated-hover faa-fast")&lt;/script>
&lt;h4 id="inline-animation">Inline animation&lt;/h4>
&lt;p>You can add animations to inline Rmarkdown text by giving it a HTML tag and id, like
following:&lt;/p>
&lt;pre>&lt;code class="language-html">some text some text &amp;lt;span id=&amp;quot;some-text&amp;quot; style=&amp;quot;display: inline-block&amp;quot;&amp;gt;some text&amp;lt;/span&amp;gt; some text some text
&lt;/code>&lt;/pre>
&lt;p>some text some text &lt;span id="some-text" style="display: inline-block">some text&lt;/span> some text some text&lt;/p>
&lt;pre>&lt;code class="language-r">animateUI(selector = &amp;quot;some-text&amp;quot;, animation = &amp;quot;ring&amp;quot;)
&lt;/code>&lt;/pre>
&lt;script>addSpsAnimation("#some-text", "sps-animation faa-ring animated ")&lt;/script>
&lt;p>&lt;strong>Most animations required the target tag to have CSS display “block” or “inline-block”&lt;/strong>,
you can append this by adding &lt;code>style=&amp;quot;display: inline-block&amp;quot;&lt;/code> to the tag as shown above
or check examples below.&lt;/p>
&lt;hr>
&lt;h3 id="animateappend">&lt;code>animateAppend&lt;/code>&lt;/h3>
&lt;p>Add animations with pipe &lt;code>%&amp;gt;%&lt;/code> by &lt;strong>&lt;code>animateAppend&lt;/code>&lt;/strong>&lt;/p>
&lt;pre>&lt;code class="language-r">icon(&amp;quot;home&amp;quot;) %&amp;gt;%
animateAppend(&amp;quot;ring&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i aria-label="home icon" class="fa fa-home sps-animation faa-ring animated " role="presentation">&lt;/i>&lt;/p>
&lt;pre>&lt;code class="language-r">tags$p(&amp;quot;Append animation&amp;quot;, class = &amp;quot;text-primary&amp;quot;, style=&amp;quot;display: inline-block&amp;quot;) %&amp;gt;%
animateAppend(&amp;quot;pulse&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p class="text-primary sps-animation faa-pulse animated " style="display: inline-block">Append animation&lt;/p>
&lt;hr>
&lt;h3 id="animateappendnested">&lt;code>animateAppendNested&lt;/code>&lt;/h3>
&lt;p>Apply multiple animations to the same component&lt;/p>
&lt;pre>&lt;code class="language-r">tags$b(&amp;quot;Nested animations&amp;quot;, class = &amp;quot;text-primary&amp;quot;) %&amp;gt;%
animateAppendNested(&amp;quot;ring&amp;quot;) %&amp;gt;%
animateAppendNested(&amp;quot;pulse&amp;quot;) %&amp;gt;%
animateAppendNested(&amp;quot;passing&amp;quot;)
&lt;/code>&lt;/pre>
&lt;div style="display: inline-block;" class="sps-animation faa-passing animated ">
&lt;div style="display: inline-block;" class="sps-animation faa-pulse animated ">
&lt;div style="display: inline-block;" class="sps-animation faa-ring animated ">
&lt;b class="text-primary">Nested animations&lt;/b>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;pre>&lt;code class="language-r">tags$b(&amp;quot;Nested animations display changed&amp;quot;, class = &amp;quot;text-primary&amp;quot;) %&amp;gt;%
animateAppendNested(&amp;quot;ring&amp;quot;) %&amp;gt;%
animateAppendNested(&amp;quot;pulse&amp;quot;, display = &amp;quot;block&amp;quot;, style = &amp;quot;width: 30%&amp;quot;)
&lt;/code>&lt;/pre>
&lt;div class="sps-animation faa-pulse animated " style="display: block; width: 30%">
&lt;div style="display: inline-block;" class="sps-animation faa-ring animated ">
&lt;b class="text-primary">Nested animations display changed&lt;/b>
&lt;/div>
&lt;/div>
&lt;hr>
&lt;h3 id="animateicon">&lt;code>animateIcon&lt;/code>&lt;/h3>
&lt;p>Here is a convenient function that allows you to create font-awesome icons with
animations and customize, color, size, etc, an enhanced version of original
&lt;code>shiny::icon&lt;/code> and can also be used in Rmarkdown.&lt;/p>
&lt;h4 id="default">Default&lt;/h4>
&lt;p>Default is the same as original icon&lt;/p>
&lt;pre>&lt;code class="language-r">animateIcon(&amp;quot;home&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i class="fa sps-animation fa-home animated " style="color: ;">&lt;/i>&lt;/p>
&lt;h4 id="animation-and-color">Animation and color&lt;/h4>
&lt;pre>&lt;code class="language-r">animateIcon(name = &amp;quot;home&amp;quot;, animation = &amp;quot;horizontal&amp;quot;, speed = &amp;quot;slow&amp;quot;, color =&amp;quot;red&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i class="fa sps-animation fa-home faa-horizontal animated faa-slow" style="color: red;">&lt;/i>&lt;/p>
&lt;h4 id="add-to-a-button">Add to a button&lt;/h4>
&lt;pre>&lt;code class="language-r">tags$button(animateIcon(&amp;quot;spinner&amp;quot;, &amp;quot;spin&amp;quot;, &amp;quot;fast&amp;quot;), &amp;quot;A button&amp;quot;)
&lt;/code>&lt;/pre>
&lt;button>
&lt;i class="fa sps-animation fa-spinner faa-spin animated faa-fast" style="color: ;">&lt;/i>
A button
&lt;/button>
&lt;h4 id="on-hover">on hover&lt;/h4>
&lt;pre>&lt;code class="language-r">animateIcon(name = &amp;quot;wrench&amp;quot;, animation = &amp;quot;wrench&amp;quot;, hover = TRUE, color =&amp;quot;green&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i class="fa sps-animation fa-wrench faa-wrench animated-hover " style="color: green;">&lt;/i>&lt;/p>
&lt;h4 id="change-size">Change size&lt;/h4>
&lt;pre>&lt;code class="language-r">animateIcon(&amp;quot;home&amp;quot;, size = &amp;quot;xs&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i class="fa sps-animation fa-home fa-xs animated " style="color: ;">&lt;/i>&lt;/p>
&lt;pre>&lt;code class="language-r">animateIcon(&amp;quot;home&amp;quot;, size = &amp;quot;sm&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i class="fa sps-animation fa-home fa-sm animated " style="color: ;">&lt;/i>&lt;/p>
&lt;pre>&lt;code class="language-r">animateIcon(&amp;quot;home&amp;quot;, size = &amp;quot;lg&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i class="fa sps-animation fa-home fa-lg animated " style="color: ;">&lt;/i>&lt;/p>
&lt;pre>&lt;code class="language-r">animateIcon(&amp;quot;home&amp;quot;, size = &amp;quot;2x&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i class="fa sps-animation fa-home fa-2x animated " style="color: ;">&lt;/i>&lt;/p>
&lt;pre>&lt;code class="language-r">animateIcon(&amp;quot;home&amp;quot;, size = &amp;quot;3x&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i class="fa sps-animation fa-home fa-3x animated " style="color: ;">&lt;/i>&lt;/p>
&lt;pre>&lt;code class="language-r">animateIcon(&amp;quot;home&amp;quot;, size = &amp;quot;5x&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i class="fa sps-animation fa-home fa-5x animated " style="color: ;">&lt;/i>&lt;/p>
&lt;pre>&lt;code class="language-r">animateIcon(&amp;quot;home&amp;quot;, size = &amp;quot;7x&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i class="fa sps-animation fa-home fa-7x animated " style="color: ;">&lt;/i>&lt;/p>
&lt;pre>&lt;code class="language-r">animateIcon(&amp;quot;home&amp;quot;, size = &amp;quot;10x&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>&lt;i class="fa sps-animation fa-home fa-10x animated " style="color: ;">&lt;/i>&lt;/p>
&lt;hr>
&lt;h2 id="loaders">Loaders&lt;/h2>
&lt;p>Add loaders to indicate busy status. Most cases, loaders are added by a backend
server to show the busy processing status and are removed when the process is done.
Rmarkdown documents does not have a server, but you can still add some loaders.&lt;/p>
&lt;h3 id="cssloader">&lt;code>cssLoader&lt;/code>&lt;/h3>
&lt;h4 id="default-loaders">Default loaders&lt;/h4>
&lt;p>There are 12 different default loaders: “circle,” “dual-ring,” “facebook,” “heart,”
“ring,” “roller,” “default,” “ellipsis,” “grid,” “hourglass,” “ripple,” “spinner.”&lt;/p>
&lt;pre>&lt;code class="language-r">cssLoader(height = &amp;quot;100px&amp;quot;)
&lt;/code>&lt;/pre>
&lt;div id="spsloader-725148396" class="sps-cssloader" style="height: 100px; width: 100px; display: block; opacity: 1;">
&lt;script>
$(function(){
$("#spsloader-725148396").prepend(chooseLoader("spsloader-725148396", "default", "", "#337ab7", "100px", "100px"));
});
&lt;/script>
&lt;/div>
&lt;br>
&lt;p>customize it:&lt;/p>
&lt;pre>&lt;code class="language-r">cssLoader(type = &amp;quot;grid&amp;quot;, height = &amp;quot;150px&amp;quot;, color = &amp;quot;orange&amp;quot;)
&lt;/code>&lt;/pre>
&lt;div id="spsloader-679215348" class="sps-cssloader" style="height: 150px; width: 150px; display: block; opacity: 1;">
&lt;script>
$(function(){
$("#spsloader-679215348").prepend(chooseLoader("spsloader-679215348", "grid", "", "orange", "150px", "150px"));
});
&lt;/script>
&lt;/div>
&lt;br>
&lt;p>Add to a button:&lt;/p>
&lt;pre>&lt;code class="language-r">tags$button(
## `inline = TRUE` is important if you want loader and
## text in the same line.
cssLoader(is_icon = TRUE, inline = TRUE, color = &amp;quot;#3a7bd5&amp;quot;),
&amp;quot;A button&amp;quot;
)
&lt;/code>&lt;/pre>
&lt;button>
&lt;i id="spsloader-273518694" class="sps-cssloader" style="height: 1.5rem; width: 1.5rem; display: inline-block; opacity: 1;">
&lt;script>
$(function(){
$("#spsloader-273518694").prepend(chooseLoader("spsloader-273518694", "default", "", "#3a7bd5", "1.5rem", "1.5rem"));
});
&lt;/script>
&lt;/i>
A button
&lt;/button>
&lt;h4 id="your-own-loaders">Your own loaders&lt;/h4>
&lt;p>You can choose a gif to be a your loader&lt;/p>
&lt;pre>&lt;code class="language-r">cssLoader(type = &amp;quot;gif&amp;quot;, src = &amp;quot;https://github.com/lz100/spsComps/blob/master/examples/demo/www/spinner.gif?raw=true&amp;quot;, height = &amp;quot;100px&amp;quot;)
&lt;/code>&lt;/pre>
&lt;div id="spsloader-527146983" class="sps-cssloader" style="height: 100px; width: 100px; display: block; opacity: 1;">
&lt;script>
$(function(){
$("#spsloader-527146983").prepend(chooseLoader("spsloader-527146983", "gif", "https://github.com/lz100/spsComps/blob/master/examples/demo/www/spinner.gif?raw=true", "#337ab7", "100px", "100px"));
});
&lt;/script>
&lt;/div>
&lt;pre>&lt;code class="language-r">cssLoader(type = &amp;quot;gif&amp;quot;, src = &amp;quot;https://github.com/lz100/spsComps/blob/master/examples/demo/www/bean_eater.gif?raw=true&amp;quot;, height = &amp;quot;150px&amp;quot;)
&lt;/code>&lt;/pre>
&lt;div id="spsloader-923475816" class="sps-cssloader" style="height: 150px; width: 150px; display: block; opacity: 1;">
&lt;script>
$(function(){
$("#spsloader-923475816").prepend(chooseLoader("spsloader-923475816", "gif", "https://github.com/lz100/spsComps/blob/master/examples/demo/www/bean_eater.gif?raw=true", "#337ab7", "150px", "150px"));
});
&lt;/script>
&lt;/div>
&lt;h2 id="other-components">Other components&lt;/h2>
&lt;p>Other components are either performed the best in a Shiny app or requires
a server. Please see the &lt;a href="https://lezhang.shinyapps.io/spsComps/">demo&lt;/a>&lt;/p></description></item><item><title>Sps: Server functions</title><link>/sps/dev/spscomps/server/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/sps/dev/spscomps/server/</guid><description>
&lt;p>{spsComps} has some useful functions for exception catch, expression validation,
and more. Even though we say they are Shiny server functions, but in fact most
of them can be run without a Shiny server. We have designed the functions to detect
whether there is a Shiny server, if not, they will work only in R console as well.&lt;/p>
&lt;h2 id="load-package">load package&lt;/h2>
&lt;pre>&lt;code class="language-r">library(spsComps)
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## Loading required package: shiny
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## Loading required package: spsUtil
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-r">library(magrittr)
&lt;/code>&lt;/pre>
&lt;h2 id="server-components">Server components&lt;/h2>
&lt;h3 id="shinycatch">&lt;code>shinyCatch&lt;/code>&lt;/h3>
&lt;h4 id="basic">basic&lt;/h4>
&lt;p>The &lt;code>shinyCatch&lt;/code> function is useful to capture exception. What we mean exception
can be &lt;code>message&lt;/code>, &lt;code>warning&lt;/code> or &lt;code>error&lt;/code>. For example&lt;/p>
&lt;pre>&lt;code class="language-r">shinyCatch({
message(&amp;quot;This is a message&amp;quot;)
warning(&amp;quot;This is a warning&amp;quot;)
stop(&amp;quot;This is an error&amp;quot;)
})
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## [SPS-INFO] 2021-04-14 17:31:28 This is a message
##
## [SPS-WARNING] 2021-04-14 17:31:28 This is a warning
## [SPS-ERROR] 2021-04-14 17:31:28 This is an error
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## NULL
&lt;/code>&lt;/pre>
&lt;p>You can see all 3 levels are captured inside the [SPS-XX] log on your console. If you run this
in your Shiny app, a pop-up message with the corresponding log level message will
be displayed in in app, like following:&lt;/p>
&lt;p>&lt;img src="../shinycatch.png" alt="shinycatch">&lt;/p>
&lt;p>So the message on both UI and console is called &lt;strong>dual-end logging&lt;/strong> in SPS.&lt;/p>
&lt;h4 id="server-only">Server only&lt;/h4>
&lt;p>Of course, if you do not want users to see the message, you can hide it by
&lt;code>shiny = FALSE&lt;/code>, but the message will be still logged on R console.
Run the following on your own computer and watch the difference.&lt;/p>
&lt;pre>&lt;code class="language-r">library(shiny)
ui &amp;lt;- fluidPage(
spsDepend(&amp;quot;toastr&amp;quot;)
)
server &amp;lt;- function(input, output, session) {
shinyCatch({
stop(&amp;quot;This is an error&amp;quot;)
}, shiny = FALSE)
}
shinyApp(ui, server)
&lt;/code>&lt;/pre>
&lt;h4 id="get-return">get return&lt;/h4>
&lt;p>&lt;code>shinyCatch&lt;/code> is able to return you values if your expression has any. Imagine we
have a function &lt;code>addNum&lt;/code> that gives message, warning or error depeend on the input.&lt;/p>
&lt;pre>&lt;code class="language-r">addNum &amp;lt;- function(num){
if (num &amp;gt; 0) {message(num)}
else if (num == 0) {warning(&amp;quot;Num is 0&amp;quot;)}
else {stop(&amp;quot;less than 0&amp;quot;)}
return(num + num)
}
value_a &amp;lt;- shinyCatch({
addNum(1)
})
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## [SPS-INFO] 2021-04-14 17:31:28 1
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-r">value_a
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## [1] 2
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-r">value_b &amp;lt;- shinyCatch({
addNum(0)
})
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## [SPS-WARNING] 2021-04-14 17:31:28 Num is 0
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-r">value_b
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## [1] 0
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-r">value_c &amp;lt;- shinyCatch({
addNum(-1)
})
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## [SPS-ERROR] 2021-04-14 17:31:28 less than 0
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-r">value_c
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## NULL
&lt;/code>&lt;/pre>
&lt;p>You can see at &lt;code>message&lt;/code> and &lt;code>warning&lt;/code> level, the expected value returned, and
at &lt;code>error&lt;/code> level, the return is &lt;code>NULL&lt;/code>. So the following code &lt;code>value_c&lt;/code> still runs
and is not blocked by the &lt;code>error&lt;/code> occurred in &lt;code>shinyCatch&lt;/code>.&lt;/p>
&lt;h4 id="blocking-level">Blocking level&lt;/h4>
&lt;p>More often, if there is an error, we do want take the log in R console, inform the Shinyapp user
and then stop the following code. In this case, we need to specify the &lt;code>blocking_level&lt;/code>. So,
default is &lt;code>&amp;quot;none&amp;quot;&lt;/code>, do not block and return &lt;code>NULL&lt;/code> if there is an error, and you can
choose &lt;code>&amp;quot;error&amp;quot;&lt;/code>, &lt;code>&amp;quot;warning&amp;quot;&lt;/code> or &lt;code>&amp;quot;message&amp;quot;&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>error&lt;/strong>: block downstream if the first &lt;code>error&lt;/code> detected in &lt;code>shinyCatch&lt;/code>&lt;/li>
&lt;li>&lt;strong>warning&lt;/strong>: block downstream if the first &lt;code>error&lt;/code> or &lt;code>warning&lt;/code> detected in &lt;code>shinyCatch&lt;/code>&lt;/li>
&lt;li>&lt;strong>message&lt;/strong>: block downstream if the first &lt;code>error&lt;/code>, &lt;code>warning&lt;/code> or &lt;code>message&lt;/code> detected in &lt;code>shinyCatch&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>You can see the stringency becomes tighter: message &amp;gt; warning &amp;gt; error&lt;/p>
&lt;p>&lt;b class="text-primary">Blocking code will generate error, in order to have the Rmd rendered, we wrap the expression in &lt;code>try&lt;/code> &lt;/b>&lt;/p>
&lt;pre>&lt;code class="language-r">try({
shinyCatch({
stop(&amp;quot;error level is the most commonly used level&amp;quot;)
}, blocking_level = &amp;quot;error&amp;quot;)
print(&amp;quot;This will not be evaluated&amp;quot;)
})
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## [SPS-ERROR] 2021-04-14 17:31:28 error level is the most commonly used level
## Error :
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-r">try({
shinyCatch({
message(&amp;quot;error level is the most commonly used level&amp;quot;)
}, blocking_level = &amp;quot;message&amp;quot;)
print(&amp;quot;This will not be evaluated either&amp;quot;)
})
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## [SPS-INFO] 2021-04-14 17:31:28 error level is the most commonly used level
##
## Error :
&lt;/code>&lt;/pre>
&lt;p>You can see the following &lt;code>print&lt;/code> in both cases are not got evaluated.&lt;/p>
&lt;h4 id="block-reative">Block reative&lt;/h4>
&lt;p>The most useful case for &lt;code>shinyCatch&lt;/code> is to use it in the &lt;a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson6/">Shiny reactive&lt;/a>
context. Most errors in shiny::reactive, shiny::observer, shiny::observeEvent,
or shiny::renderXXX series function will &lt;strong>crash&lt;/strong> the app. With &lt;code>shinyCatch&lt;/code>, it
will not. It &amp;ldquo;dual-logs&amp;rdquo; the error and stop downstream code.&lt;/p>
&lt;p>&lt;b class="text-primary">The following example use &lt;code>shiny::reactiveConsole()&lt;/code> to mock a Shiny server session&lt;/b>&lt;/p>
&lt;pre>&lt;code class="language-r">shiny::reactiveConsole(TRUE)
y &amp;lt;- observe({
stop(&amp;quot;an error from a function&amp;quot;)
print(&amp;quot;some other process&amp;quot;)
})
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## Warning: Error in &amp;lt;observer&amp;gt;: The value of x is
## 38: stop
## 37: &amp;lt;observer&amp;gt; [#2]
## 35: contextFunc
## 34: env$runWith
## 27: ctx$run
## 26: run
## 7: flushCallback
## 6: FUN
## 5: lapply
## 4: ctx$executeFlushCallbacks
## 3: .getReactiveEnvironment()$flush
## 2: flushReact
## 1: &amp;lt;Anonymous&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>It crashes the app. However, if you use &lt;code>shinyCatch&lt;/code>&lt;/p>
&lt;pre>&lt;code class="language-r">shiny::reactiveConsole(TRUE)
y &amp;lt;- observe({
shinyCatch({
stop(&amp;quot;an error from a function&amp;quot;)
}, blocking_level = &amp;quot;error&amp;quot;)
print(&amp;quot;some other process&amp;quot;)
})
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## [SPS-ERROR] 2021-03-02 22:13:05 an error from a function
&lt;/code>&lt;/pre>
&lt;p>It only logs the error and prevent the downstream &lt;code>print&lt;/code> to run. Now try following
real Shiny apps and watch the difference:&lt;/p>
&lt;pre>&lt;code class="language-r"># with shinyCatch
library(shiny)
server &amp;lt;- function(input, output, session) {
observe({
shinyCatch({
stop(&amp;quot;an error from a function&amp;quot;)
}, blocking_level = &amp;quot;error&amp;quot;)
print(&amp;quot;some other process&amp;quot;)
})
}
shinyApp(fluidPage(spsDepend(&amp;quot;toastr&amp;quot;)), server)
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-r"># without shinyCatch
library(shiny)
server &amp;lt;- function(input, output, session) {
observe({
stop(&amp;quot;an error from a function&amp;quot;)
print(&amp;quot;some other process&amp;quot;)
})
}
shinyApp(fluidPage(spsDepend(&amp;quot;toastr&amp;quot;)), server)
&lt;/code>&lt;/pre>
&lt;h3 id="spsvalidate">&lt;code>spsValidate&lt;/code>&lt;/h3>
&lt;p>In data analysis, it is important we do some validations before the downstream
process, like make a plot. It is epecially the case in Shiny apps. We cannot
predict what the user inputs will be, like what kind of data they will use.
Similar to &lt;code>shinyCatch&lt;/code>, &lt;code>spsValidate&lt;/code> is able to catch exceptions but more
useful to handle validations. In addtion to &lt;code>shinyCatch&lt;/code> functionalities, it
will give users a success message if the expression goes through and return &lt;code>TRUE&lt;/code>
(&lt;code>shinyCatch&lt;/code> returns the final expression value).&lt;/p>
&lt;pre>&lt;code class="language-r">shiny::reactiveConsole(TRUE)
x &amp;lt;- reactiveVal(10)
y &amp;lt;- observe({
spsValidate({
# have multiple validations in one expression
if (x() == 1) stop(&amp;quot;cannot be 1&amp;quot;)
if (x() == 0) stop(&amp;quot;cannot be 0&amp;quot;)
if (x() &amp;lt; 0) stop(&amp;quot;less than 0&amp;quot;)
})
message(&amp;quot;The value of x is &amp;quot;, x())
})
x(0)
x(-10)
&lt;/code>&lt;/pre>
&lt;pre>&lt;code>## The value of x is 10
## [ ERROR] 2021-03-02 22:36:16 cannot be 0
## [ ERROR] 2021-03-02 22:36:16 less than 0
&lt;/code>&lt;/pre>
&lt;p>Try this real Shiny app:&lt;/p>
&lt;pre>&lt;code class="language-r">library(shiny)
ui &amp;lt;- fluidPage(
spsDepend(&amp;quot;toastr&amp;quot;),
shiny::sliderInput(
&amp;quot;num&amp;quot;, &amp;quot;change number&amp;quot;,
min = -1, max = 2, value = 2, step = 1
)
)
server &amp;lt;- function(input, output, session) {
x &amp;lt;- reactive(as.numeric(input$num))
y &amp;lt;- observe({
spsValidate(vd_name = &amp;quot;check numbers&amp;quot;, verbose = TRUE, {
# have multiple validations in one expression
if (x() == 1) stop(&amp;quot;cannot be 1&amp;quot;)
if (x() == 0) stop(&amp;quot;cannot be 0&amp;quot;)
if (x() &amp;lt; 0) stop(&amp;quot;less than 0&amp;quot;)
})
message(&amp;quot;The value of x is &amp;quot;, x())
})
}
shinyApp(ui, server)
&lt;/code>&lt;/pre>
&lt;p>You should see the success message like this:&lt;/p>
&lt;p>&lt;img src="../spsvalidate.png" alt="spsvalidate">&lt;/p>
&lt;h3 id="shinycheckpkg">&lt;code>shinyCheckPkg&lt;/code>&lt;/h3>
&lt;p>Sometimes we want the app behave differently if users have certain packages installed.
For example, if some packages are installed, we open up additional tabs on
UI to allow more features. This can be done with the &lt;code>shinyCheckPkg&lt;/code> function.
This function has to run inside Shiny server, an alternative version to use
without Shiny is from the &lt;a href="../../spsutil">spsUtil&lt;/a> package, &lt;code>spsUtil::checkNameSpace&lt;/code>&lt;/p>
&lt;p>Use it in Shiny server, specify the packages you want to check by different sources,
like CRAN, Bioconductor, or github.&lt;/p>
&lt;pre>&lt;code class="language-r">shinyCheckPkg(session, cran_pkg = c(&amp;quot;pkg1&amp;quot;, &amp;quot;pkg2&amp;quot;), bioc_pkg = &amp;quot;bioxxx&amp;quot;, github = &amp;quot;user1/pkg1&amp;quot;)
&lt;/code>&lt;/pre>
&lt;p>It will return &lt;code>TRUE&lt;/code> if all packages are installed, otherwise &lt;code>FALSE&lt;/code>&lt;/p>
&lt;p>Now try this real example. We check if the &lt;code>ggplot99&lt;/code> package is installed, if
yes we make a plot. It also combines the &lt;code>spsValidate&lt;/code> function. You can have
a better idea how these functions work.&lt;/p>
&lt;pre>&lt;code class="language-r">library(shiny)
ui &amp;lt;- fluidPage(
tags$label('Check if package &amp;quot;pkg1&amp;quot;, &amp;quot;pkg2&amp;quot;, &amp;quot;bioxxx&amp;quot;,
github package &amp;quot;user1/pkg1&amp;quot; are installed'), br(),
actionButton(&amp;quot;check_random_pkg&amp;quot;, &amp;quot;check random_pkg&amp;quot;),
br(), spsHr(),
tags$label('We can combine `spsValidate` to block server code to prevent
crash if some packages are not installed.'), br(),
tags$label('If &amp;quot;shiny&amp;quot; is installed, make a plot.'), br(),
actionButton(&amp;quot;check_shiny&amp;quot;, &amp;quot;check shiny&amp;quot;), br(),
tags$label('If &amp;quot;ggplot99&amp;quot; is installed, make a plot.'), br(),
actionButton(&amp;quot;check_gg99&amp;quot;, &amp;quot;check ggplot99&amp;quot;), br(),
plotOutput(&amp;quot;plot_pkg&amp;quot;)
)
server &amp;lt;- function(input, output, session) {
observeEvent(input$check_random_pkg, {
shinyCheckPkg(session, cran_pkg = c(&amp;quot;pkg1&amp;quot;, &amp;quot;pkg2&amp;quot;), bioc_pkg = &amp;quot;bioxxx&amp;quot;, github = &amp;quot;user1/pkg1&amp;quot;)
})
observeEvent(input$check_shiny, {
spsValidate(verbose = FALSE, {
if(!shinyCheckPkg(session, cran_pkg = c(&amp;quot;shiny&amp;quot;))) stop(&amp;quot;Install packages&amp;quot;)
})
output$plot_pkg &amp;lt;- renderPlot(plot(1))
})
observeEvent(input$check_gg99, {
spsValidate({
if(!shinyCheckPkg(session, cran_pkg = c(&amp;quot;ggplot99&amp;quot;))) stop(&amp;quot;Install packages&amp;quot;)
})
output$plot_pkg &amp;lt;- renderPlot(plot(99))
})
}
shinyApp(ui, server)
&lt;/code>&lt;/pre>
&lt;p>You should see something like this if there is any missing package:&lt;/p>
&lt;p>&lt;img src="../shinycheckpkg.png" alt="shinycheckpkg">&lt;/p></description></item></channel></rss>