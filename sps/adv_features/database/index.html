<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.87.0" /><META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">


<link rel="shortcut icon" href="../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../favicons/android-192x192.png" sizes="192x192">

<title>SPS database | sysPipe</title><meta property="og:title" content="SPS database" />
<meta property="og:description" content="SPS database is a small SQLite database which stores some basic app information, the project encryption key pair, account information. The database is controlled by 3 SPS R6 classes:
 spsDb: basic database management, queries. spsEncryption: Interact with the SHA256 key pair in the database to encrypt strings, and files. Also methods to view or change the key pair, inherits spsDb spsAcount: use the encyption key pair to manage users and admin accounts in SPS, inherits spsDb and spsEncryption." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/sps/adv_features/database/" /><meta property="article:section" content="sps" />

<meta property="article:modified_time" content="2021-08-05T17:59:29-07:00" /><meta property="og:site_name" content="sysPipe" />

<meta itemprop="name" content="SPS database">
<meta itemprop="description" content="SPS database is a small SQLite database which stores some basic app information, the project encryption key pair, account information. The database is controlled by 3 SPS R6 classes:
 spsDb: basic database management, queries. spsEncryption: Interact with the SHA256 key pair in the database to encrypt strings, and files. Also methods to view or change the key pair, inherits spsDb spsAcount: use the encyption key pair to manage users and admin accounts in SPS, inherits spsDb and spsEncryption.">
<meta itemprop="dateModified" content="2021-08-05T17:59:29-07:00" />
<meta itemprop="wordCount" content="725">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SPS database"/>
<meta name="twitter:description" content="SPS database is a small SQLite database which stores some basic app information, the project encryption key pair, account information. The database is controlled by 3 SPS R6 classes:
 spsDb: basic database management, queries. spsEncryption: Interact with the SHA256 key pair in the database to encrypt strings, and files. Also methods to view or change the key pair, inherits spsDb spsAcount: use the encyption key pair to manage users and admin accounts in SPS, inherits spsDb and spsEncryption."/>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-158796879-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>






<link rel="preload" href="../../../scss/main.min.ec3158865e06abf2efb5adb7c0712676230cc65bf30ed9b6d5999eb20e79d827.css" as="style">
<link href="../../../scss/main.min.ec3158865e06abf2efb5adb7c0712676230cc65bf30ed9b6d5999eb20e79d827.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>



<link rel="stylesheet" href="../../../css/prism.css"/>


<script src="../../../js/driver0.9.8.min.js"></script>
<link rel="stylesheet" href="../../../css/driver0.9.8.min.css"/>


<link rel="stylesheet" href="../../../css/site.css"/>
<script src="../../../js/site.js"></script>



  </head>
  <body class="td-page line-numbers">
    <header>
     
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="../../../">
	<span class="navbar-logo"><svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="Layer_1" width="55" height="59" enable-background="new 0 0 128 128" viewBox="0 0 55 59"><defs id="defs217"><linearGradient id="linearGradient2530"><stop style="stop-color:#a6dae8;stop-opacity:1" id="stop2526" offset="0"/><stop style="stop-color:#a6dae8;stop-opacity:0" id="stop2528" offset="1"/></linearGradient><radialGradient id="radialGradient2534" cx="48.106" cy="96.236" r="19.564" fx="48.106" fy="96.236" gradientTransform="matrix(1,0,0,1.623578,0,-60.010935)" gradientUnits="userSpaceOnUse" xlink:href="#linearGradient2530"/><meshgradient id="meshgradient2632" x="17.689" y="-106.706" gradientTransform="matrix(0.45556163,0,0,0.45556163,69.688068,2.0372999)" gradientUnits="userSpaceOnUse"><meshrow id="meshrow2634"><meshpatch id="meshpatch2636"><stop style="stop-color:#fff;stop-opacity:1" id="stop2638" path="c 23.5857,-23.5857 61.8257,-23.5857 85.4114,0"/><stop style="stop-color:#d1ecfb;stop-opacity:1" id="stop2640" path="c 23.5857,23.5857 23.5857,61.8257 0,85.4114"/><stop style="stop-color:#fff;stop-opacity:1" id="stop2642" path="c -23.5857,23.5857 -61.8257,23.5857 -85.4114,7.10543e-15"/><stop style="stop-color:#d1ecfb;stop-opacity:1" id="stop2644" path="c -23.5857,-23.5857 -23.5857,-61.8257 -1.42109e-14,-85.4114"/></meshpatch></meshrow></meshgradient></defs><g id="g212" transform="translate(0,-69)"><circle id="circle2" cx="97.202" cy="-27.119" r="27.514" transform="rotate(90)" style="opacity:.83600003;fill:url(#meshgradient2632);fill-opacity:1;stroke-width:.45556161"/><g id="g210" transform="matrix(0.45556163,0,0,0.45556163,-2.0372999,69.688068)"><path id="path52" d="m89.338 83.479-3.862.922c-.6-1.295-1.291-2.522-2.061-3.688l2.783-2.633c.666-.633.693-1.683.063-2.356l-4.57-4.83c-.635-.666-1.688-.693-2.354-.065l-2.895 2.737c-1.146-.813-2.356-1.539-3.617-2.162l1.098-3.682c.26-.883-.24-1.806-1.122-2.07l-6.374-1.901c-.88-.259-1.804.24-2.065 1.121l-1.136 3.813c-1.393-.133-2.803-.149-4.221-.06L58.114 64.888C57.9 63.994 57.005 63.44 56.108 63.654l-6.469 1.543c-.899.213-1.451 1.112-1.237 2.005l.921 3.867c-1.289.594-2.518 1.279-3.682 2.055L43.013 70.34c-.637-.671-1.688-.696-2.364-.063l-4.83 4.574c-.665.627-.695 1.681-.063 2.349l2.739 2.895c-.813 1.146-1.542 2.355-2.163 3.616l-3.679-1.098c-.885-.26-1.806.246-2.071 1.125l-1.905 6.375c-.264.877.24 1.806 1.122 2.068l3.812 1.135c-.128 1.39-.147 2.798-.058 4.215l-3.731.89c-.899.215-1.45 1.114-1.237 2.01l1.542 6.469c.213.896 1.109 1.447 2.01 1.232l3.862-.921c.592 1.292 1.28 2.528 2.054 3.688l-2.785 2.634c-.668.632-.694 1.682-.066 2.349l4.57 4.838c.629.664 1.687.694 2.354.063l2.892-2.736c1.151.812 2.361 1.541 3.622 2.165l-1.094 3.684c-.268.879.235 1.808 1.113 2.066l6.382 1.896c.878.263 1.806-.235 2.063-1.113l1.139-3.813c1.389.125 2.798.146 4.218.053l.893 3.74c.213.894 1.105 1.442 1.997 1.229l6.477-1.539c.895-.213 1.445-1.11 1.232-2.005l-.922-3.865c1.289-.597 2.521-1.281 3.688-2.055l2.633 2.779c.632.672 1.677.697 2.351.066l4.836-4.572c.666-.627.692-1.683.063-2.354l-2.739-2.891c.815-1.147 1.544-2.356 2.169-3.619l3.682 1.1c.883.26 1.804-.242 2.068-1.121l1.899-6.379c.262-.877-.243-1.805-1.116-2.066l-3.814-1.141c.131-1.384.147-2.794.063-4.21l3.734-.891c.893-.213 1.438-1.11 1.228-2.008l-1.541-6.47C91.13 83.815 90.229 83.269 89.338 83.479zm-25.89 23.716c-6.292 1.498-12.605-2.387-14.105-8.678-1.499-6.29 2.386-12.604 8.677-14.104 6.291-1.499 12.606 2.385 14.106 8.677 1.498 6.289-2.387 12.606-8.678 14.105z" style="fill:#2e4b79;fill-opacity:.91176471"/><path id="path54" d="m111.8295 28.871996-3.24301.776905c-.50038-1.091866-1.07658-2.130285-1.72291-3.113347l2.33322-2.223819c.55914-.53448.58189-1.422099.0474-1.989029l-3.83059-4.079229c-.52881-.561204-1.41396-.58602-1.9731-.05536l-2.42231 2.309717c-.96475-.68528-1.976891-1.298023-3.03831-1.824867l.919264-3.10762c.216072-.746364-.200913-1.525178-.940115-1.750423l-5.34121-1.60344c-.739202-.21952-1.510626.200429-1.732387.946793L89.930165 16.37852C88.7645 16.265897 87.583671 16.250626 86.395262 16.32889l-.746784-3.157247c-.181958-.753999-.930637-1.21976-1.683107-1.040328l-5.426502 1.301842c-.754365.181341-1.21684.941066-1.036778 1.695065l.773319 3.264147c-1.082268.500121-2.111464 1.080414-3.091381 1.735151l-2.200548-2.353621c-.53071-.566931-1.412067-.587928-1.978788-.05536l-4.050448 3.863528c-.559141.528753-.585677 1.42019-.05117 1.981394l2.295318 2.445247c-.680446.967791-1.296448 1.989029-1.810099 3.054172l-3.087592-.927705c-.741098-.21761-1.514416.208065-1.736178.950611l-1.595918 5.382979c-.221761.742546.19712 1.525177.936323 1.748513l3.197523.958246c-.109933 1.172039-.1232 2.363166-.04549 3.558111l-3.127393.752091c-.750574.18134-1.218736.939158-1.036779 1.695065l1.294552 5.463151c.180062.757816.930637 1.225486 1.686897 1.044144l3.235431-.776905c.500384 1.089958 1.074687 2.132194 1.719119 3.111438l-2.329435 2.225728c-.56293.532571-.581884 1.42019-.05307 1.985212l3.830584 4.083046c.526918.561204 1.413961.587928 1.9731.05536l2.422309-2.311626c.968544.687189 1.984474 1.30184 3.040206 1.828686l-.917368 3.109528c-.219866.742546.197119 1.527086.936322 1.746605l5.348791 1.601532c.737307.221428 1.514417-.198521 1.728596-.941067l.955277-3.222151c1.165665.106897 2.346493.124075 3.538695.04581l.746783 3.157251c.180062.753998.930636 1.217851 1.67742 1.038418l5.428398-1.301841c.750574-.177523 1.213049-.937249 1.031092-1.691248l-.771424-3.264146c1.082268-.503939 2.115255-1.082322 3.091385-1.735152l2.20813 2.345986c.5326.566931 1.40827.589838 1.97499.05726l4.05235-3.86162c.55914-.528753.58567-1.42019.0531-1.98712l-2.29911-2.441429c.68613-.967791 1.29834-1.98903 1.81768-3.056081l3.08569.927704c.7411.219519 1.51442-.202339 1.73808-.946793l1.59402-5.386796c.21607-.740633-.20471-1.523264-.93633-1.746601l-3.19941-.962063c.11182-1.168222.1213-2.35744.0512-3.552385l3.12739-.752089c.74868-.181342 1.20736-.939158 1.0292-1.696975l-1.29266-5.463148c-.18196-.755907-.93442-1.219759-1.68121-1.038418zM90.123492 48.894003c-5.276767 1.267482-10.572488-2.013844-11.827235-7.324286-1.256645-5.312351 2.003427-10.647608 7.274507-11.911271 5.274872-1.265573 10.568697 2.013844 11.823445 7.326195 1.258539 5.310442-1.997741 10.647607-7.270717 11.909362z" style="fill:#97baed;fill-opacity:1;stroke-width:1.90211201"/><path id="path56" d="m64.166 112.713c-9.08 1.85-18.058-3.824-20.221-12.906-2.165-9.083 3.288-18.198 12.227-20.642l-3.5-14.692-3.03.724c-.899.213-1.451 1.112-1.237 2.005l.921 3.867c-1.289.594-2.518 1.279-3.682 2.055L43.016 70.34c-.637-.671-1.688-.696-2.364-.063l-4.83 4.574c-.665.627-.695 1.681-.063 2.349l2.739 2.895c-.813 1.146-1.542 2.355-2.163 3.616l-3.679-1.098c-.885-.26-1.806.246-2.071 1.125l-1.905 6.375c-.264.877.24 1.806 1.122 2.068l3.812 1.135c-.128 1.39-.147 2.798-.058 4.215l-3.73.89c-.9.215-1.451 1.114-1.238 2.01l1.542 6.469c.213.896 1.109 1.447 2.01 1.232l3.862-.921c.592 1.292 1.28 2.528 2.054 3.688l-2.785 2.634c-.668.632-.693 1.682-.066 2.349l4.57 4.838c.629.664 1.687.694 2.354.063l2.892-2.736c1.151.812 2.361 1.541 3.622 2.165l-1.094 3.684c-.268.879.236 1.808 1.113 2.066l6.382 1.896c.878.263 1.806-.235 2.063-1.113l1.139-3.813c1.389.125 2.798.146 4.218.053l.893 3.74c.213.894 1.105 1.442 1.997 1.229l2.316-.549z" style="fill:url(#radialGradient2534);fill-opacity:1"/><g id="g60" transform="matrix(1.3314607,0,0,1.3314607,69.623325,-30.275292)"><path id="path58" d="m28.131 78.601-.8.19c-.185.045-.419-.051-.52-.214l-.233-.325c-.122-.146-.142-.396-.042-.56l.429-.698c.101-.162.05-.376-.113-.476l-1.079-.664c-.164-.101-.376-.049-.477.111l-.429.699c-.101.161-.332.259-.52.215L23.951 76.816C23.762 76.798 23.57 76.634 23.526 76.45l-.19-.8c-.043-.184-.232-.299-.417-.256l-1.233.295c-.185.045-.3.231-.256.416l.189.799c.044.186-.053.418-.215.519l-.323.235c-.146.123-.397.141-.561.041l-.701-.43C19.66 77.168 19.445 77.22 19.345 77.381l-.664 1.082c-.102.16-.05.375.113.476l.7.429c.159.103.257.334.216.519l-.063.396c-.017.189-.182.381-.367.425l-.798.19c-.184.043-.302.23-.257.416l.294 1.233c.043.185.234.302.418.257l.798-.19c.185-.043.417.052.52.214l.234.324c.122.146.141.397.043.561l-.432.7c-.1.161-.048.377.113.476l1.082.666c.162.098.376.047.475-.113l.43-.698c.101-.164.333-.261.52-.218l.395.063c.189.017.381.183.425.367l.189.798c.046.186.233.301.417.258l1.234-.295c.185-.045.301-.23.257-.418l-.19-.797c-.043-.188.053-.419.215-.52l.323-.235c.147-.122.397-.14.562-.04l.697.432c.164.098.377.047.477-.113l.664-1.082c.1-.161.048-.377-.113-.477l-.7-.429c-.161-.101-.258-.334-.215-.519l.063-.396c.015-.189.182-.381.367-.425l.798-.189c.184-.045.301-.233.255-.417l-.293-1.234c-.045-.186-.233-.3-.416-.257zm-4.209 3.73c-.897.213-1.8-.342-2.012-1.24-.215-.896.34-1.8 1.237-2.013.897-.215 1.8.339 2.014 1.237.215.899-.341 1.801-1.239 2.016z" style="fill:#a6dae9"/></g><path id="path72" d="m56.823 79.401 1.196 5.013c6.291-1.499 12.606 2.385 14.106 8.677 1.498 6.288-2.387 12.605-8.678 14.104l1.193 5.013C73.7 110.049 79.293 100.952 77.136 91.895 74.978 82.837 65.883 77.242 56.823 79.401z" style="fill:#3e5a85;fill-opacity:1"/><g id="g76"><path id="path74" d="m60.719 113.066c-8.016.0-14.913-5.452-16.773-13.26-2.206-9.258 3.53-18.585 12.786-20.792 1.319-.313 2.67-.474 4.015-.474 8.017.0 14.916 5.453 16.778 13.263 2.205 9.257-3.532 18.583-12.791 20.788-1.32.316-2.67.475-4.015.475zm.026-33.732c-1.282.0-2.57.151-3.831.452-8.831 2.105-14.304 11.005-12.198 19.837 1.774 7.448 8.355 12.65 16.002 12.65 1.283.0 2.572-.151 3.831-.451 8.833-2.105 14.308-11.004 12.202-19.833C74.976 84.538 68.394 79.334 60.745 79.334z" style="fill:#a6dae9;fill-opacity:1"/></g><g id="g208" transform="matrix(1.1075584,0,0,1.1075584,-60.874681,-16.511015)"><g id="g122"><path id="path102" d="m88.853 44.64c0 .26-.209.471-.471.471h-3.201c-.259.0-.47-.21-.47-.471v-6.965c0-.26.211-.471.47-.471h3.201c.262.0.471.21.471.471z" style="fill:#8fc4d7"/><path id="path104" d="m82.745 45.318c.152.21.107.505-.104.658l-2.59 1.881c-.211.152-.505.106-.656-.104L75.3 42.118c-.153-.21-.108-.504.104-.657l2.59-1.881c.21-.152.503-.106.656.104z" style="fill:#8fc4d7"/><path id="path106" d="m78.205 49.458c.247.08.382.346.302.593l-.988 3.043c-.08.247-.346.382-.594.302L70.3 51.244C70.054 51.163 69.919 50.898 69.997 50.65l.988-3.042c.082-.247.347-.382.596-.302z" style="fill:#8fc4d7"/><path id="path108" d="m76.963 55.475c.248-.079.515.055.593.303l.99 3.043c.081.247-.057.513-.302.594l-6.626 2.151c-.246.081-.512-.055-.592-.301l-.988-3.044c-.081-.248.054-.513.302-.594z" style="fill:#8fc4d7"/><path id="path110" d="m79.496 61.073c.153-.21.448-.257.657-.104l2.59 1.88c.209.152.257.447.104.657l-4.095 5.636c-.151.213-.446.258-.655.104l-2.591-1.881c-.21-.152-.256-.446-.104-.657z" style="fill:#8fc4d7"/><path id="path112" d="m84.835 64.113c.001-.26.213-.471.473-.471h3.199c.262.0.473.21.473.471v6.966c0 .26-.213.471-.473.471h-3.199c-.26.0-.472-.211-.473-.471z" style="fill:#8fc4d7"/><path id="path114" d="m90.942 63.434c-.15-.211-.105-.505.104-.658l2.59-1.88c.21-.153.505-.106.657.104l4.093 5.635c.153.212.106.507-.104.657l-2.589 1.881c-.213.152-.504.107-.657-.104z" style="fill:#8fc4d7"/><path id="path116" d="M95.483 59.295C95.237 59.213 95.1 58.949 95.18 58.702l.988-3.045c.082-.246.349-.381.595-.301l6.623 2.152c.248.08.381.347.303.593l-.989 3.044c-.08.246-.343.381-.593.302z" style="fill:#8fc4d7"/><path id="path118" d="m96.727 53.277c-.248.08-.516-.055-.595-.301l-.986-3.045c-.082-.247.053-.512.301-.592l6.622-2.151c.248-.081.514.055.595.301l.989 3.044c.08.247-.057.511-.303.593z" style="fill:#8fc4d7"/><path id="path120" d="m94.192 47.68c-.153.21-.447.258-.657.104L90.944 45.902C90.737 45.75 90.688 45.455 90.841 45.246l4.093-5.635c.152-.211.448-.257.658-.105l2.587 1.882c.213.152.258.445.104.658z" style="fill:#8fc4d7"/></g><g id="g206"><circle id="circle124" cx="86.845" cy="54.376" r="14.798" style="fill:#8fc4d7"/><circle id="circle126" cx="86.844" cy="54.376" r="13.872" style="fill:#8fc4d7"/><circle id="circle128" cx="86.844" cy="54.376" r="10.791" style="fill:#fff"/><path id="path130" d="m77.21 55.148c0-5.959 4.83-10.791 10.79-10.791 1.966.0 3.806.528 5.396 1.446-1.818-1.39-4.088-2.217-6.551-2.217-5.959.0-10.792 4.831-10.792 10.791.0 3.994 2.175 7.48 5.397 9.345-2.577-1.973-4.24-5.078-4.24-8.574z" style="fill:#d1ecfb"/><circle id="circle132" cx="86.844" cy="54.376" r="1.927" style="fill:#3e5984;fill-opacity:1"/></g></g><g id="g76-8" transform="translate(27.024379,-56.342917)" style="fill:#2e4b79;fill-opacity:1"><path style="fill:#2e4b79;fill-opacity:1" id="path74-1" d="m60.719 113.066c-8.016.0-14.913-5.452-16.773-13.26-2.206-9.258 3.53-18.585 12.786-20.792 1.319-.313 2.67-.474 4.015-.474 8.017.0 14.916 5.453 16.778 13.263 2.205 9.257-3.532 18.583-12.791 20.788-1.32.316-2.67.475-4.015.475zm.026-33.732c-1.282.0-2.57.151-3.831.452-8.831 2.105-14.304 11.005-12.198 19.837 1.774 7.448 8.355 12.65 16.002 12.65 1.283.0 2.572-.151 3.831-.451 8.833-2.105 14.308-11.004 12.202-19.833C74.976 84.538 68.394 79.334 60.745 79.334z"/></g></g></g></svg></span><span class="font-weight-bold">sysPipe</span>
	</a>
	<row class="header-switch">
	  	<div class="custom-control custom-switch">
        <input type="checkbox" class="custom-control-input" id="sidebarSwitch" checked=true>
        <label class="custom-control-label" for="sidebarSwitch">sidebar</label>
      </div>
    	<div class="custom-control custom-switch">
        <input type="checkbox" class="custom-control-input" id="tocSwitch" checked=true>
        <label class="custom-control-label" for="tocSwitch">toc</label>
      </div>
	</row>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0" style="position: relative">
				
				
				
				
				
          <a class="nav-link dropdown-toggle" href="../../../about/" id="navbarDropdown" role="button">
          	About
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          	
          	  
              
              
              <a class="dropdown-item" href="../../../about/team/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Our Team
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../about/publications/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Publications
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../about/acknowledgement/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Acknowledgement
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../about/contact/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Contact
              </a>
          	
          </div>
				
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0" style="position: relative">
				
				
				
				
				
          <a class="nav-link dropdown-toggle" href="../../../sp/" id="navbarDropdown" role="button">
          	systemPipeR
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          	
          	  
              
              
              <a class="dropdown-item" href="../../../sp/spr/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 systemPipeR Package
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/spr/introduction/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 Introduction
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/spr/gettingstarted/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 Getting Started
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/spr/sp_run/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 How to run a Workflow
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/spr/steps/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 Workflow steps overview
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/spr/templates/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 Workflow Templates
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/spr/cwl/cwl_syntax/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 CWL syntax
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/spr/cwl/cwl_and_spr/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 SPR and CWL
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/spr/sprinstall/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 SPR detailed installation
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/spr/spr_funcs/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 Reference Manual
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../sp/spt/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 systemPipeRTools
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/spt/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 Data Visualization
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../sp/sprdata/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 systemPipeRdata
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/sprdata/systempiperdata/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 Vignette
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../sp/sprdata/newwf/"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 Rules
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../spr/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Links
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="http://bioconductor.org/packages/devel/bioc/html/systemPipeR.html"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 SPR Bioconductor
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="https://github.com/tgirke/systemPipeR"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 SPR GitHub
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="http://bioconductor.org/packages/devel/data/experiment/html/systemPipeRdata.html"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 SPRdata Bioconductor
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="https://github.com/tgirke/systemPipeRdata"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 SPRdata GitHub
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="https://github.com/tgirke/systemPipeTools"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 SPT GitHub
              </a>
          	
          </div>
				
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0" style="position: relative">
				
				
				
				
				
          <a class="nav-link dropdown-toggle" href="../../../sps/" id="navbarDropdown" role="button">
          	Shiny
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          	
          	  
              
              
              <a class="dropdown-item" href="../../../sps/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 SPS Documentation
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="https://github.com/systemPipeR/systemPipeShiny"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Github
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="http://bioconductor.org/packages/3.13/bioc/html/systemPipeShiny.html"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Bioconductor
              </a>
          	
          </div>
				
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0" style="position: relative">
				
				
				
				
				
          <a class="nav-link dropdown-toggle" href="../../../spr_wf" id="navbarDropdown" role="button">
          	Workflows
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          	
          	  
              
              
              <a class="dropdown-item" href="../../../spr_wf"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Collection
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../spr_wf/templates"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Templates
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../spr_wf/templates/rnaseq"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 RNA-Seq
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../spr_wf/templates/varseq"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 VAR-Seq
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../spr_wf/templates/chipseq"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 ChIP-Seq
              </a>
          	
          	  
              
                
              
              
              <a class="dropdown-item" href="../../../spr_wf/templates/chipseq"
              style="padding-left: 2rem; font-weight: calc(3/4*500)">
                 RIBO-Seq
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../spr_wf/installwf/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 How to install Workflow
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../spr_wf/newwf"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Rules to create Workflow
              </a>
          	
          </div>
				
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0" style="position: relative">
				
				
				
				
				
          <a class="nav-link dropdown-toggle" href="../../../outreach/" id="navbarDropdown" role="button">
          	Outreach
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          	
          	  
              
              
              <a class="dropdown-item" href="../../../outreach/conferences/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Conferences
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../outreach/presentations/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Presentations
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../outreach/videos/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Videos Tutorials
              </a>
          	
          </div>
				
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0" style="position: relative">
				
				
				
				
				
          <a class="nav-link dropdown-toggle" href="../../../news/" id="navbarDropdown" role="button">
          	News
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          	
          	  
              
              
              <a class="dropdown-item" href="../../../news/release_3_13/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Bioconductor 3.13
              </a>
          	
          	  
              
              
              <a class="dropdown-item" href="../../../news/release_3_12/"
              style="padding-left: 1rem; font-weight: calc(3/3*500)">
                 Bioconductor 3.12
              </a>
          	
          </div>
				
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../../offline-search-index.19c5c04d45b3e68b30fc60a425583cba.json"
  data-offline-search-base-href="../../../"
  data-offline-search-max-results="10"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../../offline-search-index.19c5c04d45b3e68b30fc60a425583cba.json"
  data-offline-search-base-href="../../../"
  data-offline-search-max-results="10"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-sps-li">
  <a href="../../../sps/" title="systemPipeShiny Documentation" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-sps"><span class="">systemPipeShiny</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsintro-li">
  <a href="../../../sps/intro/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsintro"><span class="">Introduction</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsinstall-li">
  <a href="../../../sps/install/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsinstall"><span class="">Installation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsquick_start-li">
  <a href="../../../sps/quick_start/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsquick_start"><span class="">Quick start</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-spsmodules-li">
  <a href="../../../sps/modules/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-spsmodules"><span class="">Modules</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsmodulesworkflow-li">
  <a href="../../../sps/modules/workflow/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsmodulesworkflow"><span class="">Workflow</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsmodulesrnaseq-li">
  <a href="../../../sps/modules/rnaseq/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsmodulesrnaseq"><span class="">RNAseq</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsmodulesggplot-li">
  <a href="../../../sps/modules/ggplot/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsmodulesggplot"><span class="">Quick ggplot</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spscanvas-li">
  <a href="../../../sps/canvas/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spscanvas"><span class="">Canvas</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spssps_funcs-li">
  <a href="../../../sps/sps_funcs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spssps_funcs"><span class="">SPS Functions</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-spsadv_features-li">
  <a href="../../../sps/adv_features/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-spsadv_features"><span class="">Advanced features</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsadv_featuresconfig-li">
  <a href="../../../sps/adv_features/config/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsadv_featuresconfig"><span class="">Configuration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsadv_featurestabs-li">
  <a href="../../../sps/adv_features/tabs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsadv_featurestabs"><span class="">Manage tabs</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsadv_featuresoverwritetabs-li">
  <a href="../../../sps/adv_features/overwritetabs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsadv_featuresoverwritetabs"><span class="">Overwrite tabs</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsadv_featuresdisplaytabs-li">
  <a href="../../../sps/adv_features/displaytabs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsadv_featuresdisplaytabs"><span class="">Toggle tabs</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsadv_featuresnotification-li">
  <a href="../../../sps/adv_features/notification/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsadv_featuresnotification"><span class="">Notification system</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsadv_featuresguide-li">
  <a href="../../../sps/adv_features/guide/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsadv_featuresguide"><span class="">SPS Guide</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsadv_featuresapp_security-li">
  <a href="../../../sps/adv_features/app_security/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsadv_featuresapp_security"><span class="">App security</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-spsadv_featuresdatabase-li">
  <a href="../../../sps/adv_features/database/" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id="m-spsadv_featuresdatabase"><span class="td-sidebar-nav-active-item">SPS database</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsadv_featureslogin-li">
  <a href="../../../sps/adv_features/login/" title="Accounts, Login and Admin" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsadv_featureslogin"><span class="">Accounts, login and admin</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsadv_featuresdebug-li">
  <a href="../../../sps/adv_features/debug/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsadv_featuresdebug"><span class="">Debugging</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsadv_featuresother_customizations-li">
  <a href="../../../sps/adv_features/other_customizations/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsadv_featuresother_customizations"><span class="">Other customizations</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsdeploy-li">
  <a href="../../../sps/deploy/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsdeploy"><span class="">Deploy</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-spsdev-li">
  <a href="../../../sps/dev/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-spsdev"><span class="">Developer tools</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-spsdevspscomps-li">
  <a href="../../../sps/dev/spscomps/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-spsdevspscomps"><span class="">spsComps</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsdevspscompsui-li">
  <a href="../../../sps/dev/spscomps/ui/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsdevspscompsui"><span class="">UI components</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsdevspscompsserver-li">
  <a href="../../../sps/dev/spscomps/server/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsdevspscompsserver"><span class="">Server functions</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-spsdevdrawer-li">
  <a href="../../../sps/dev/drawer/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-spsdevdrawer"><span class="">drawer</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsdevdrawershiny-li">
  <a href="../../../sps/dev/drawer/shiny/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsdevdrawershiny"><span class="">drawer in Shiny</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsdevdrawerrmd-li">
  <a href="../../../sps/dev/drawer/rmd/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsdevdrawerrmd"><span class="">drawer in Rmarkdown</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsdevspsutil-li">
  <a href="../../../sps/dev/spsutil/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsdevspsutil"><span class="">spsUtil</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsvideo_tutorials-li">
  <a href="../../../sps/video_tutorials/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsvideo_tutorials"><span class="">Video Tutorials</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-spsscreenshots-li">
  <a href="../../../sps/screenshots/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-spsscreenshots"><span class="">Screenshots</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </div>
          
          

          

          
          
              <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
                


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#spsdb-class"><code>spsDb</code> class</a>
          <ul>
            <li><a href="#create-new-db">create new db</a></li>
            <li><a href="#get-tables">Get tables</a></li>
            <li><a href="#insert-new-recordsrows">Insert new records(rows)</a></li>
            <li><a href="#change-values">change values</a></li>
            <li><a href="#remove-values">remove values</a></li>
          </ul>
        </li>
        <li><a href="#spsencryption-class"><code>spsEncryption</code> class</a>
          <ul>
            <li><a href="#get-current-key">Get current key</a></li>
            <li><a href="#change-the-encyption-key">Change the encyption key</a></li>
            <li><a href="#encrypt-files">Encrypt files</a></li>
            <li><a href="#decrypt-files">Decrypt files</a></li>
          </ul>
        </li>
        <li><a href="#spsacount-class"><code>spsAcount</code> class</a></li>
      </ul>
    </li>
  </ul>
</nav></div>



              </div>
              <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
                
  

                <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="../../../sps/">systemPipeShiny</a>
</li>




<li class="breadcrumb-item" >
	<a href="../../../sps/adv_features/">Advanced features</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="../../../sps/adv_features/database/">SPS database</a>
</li>

	</ol>
</nav	>

                
<div class="td-content">
	<h1>SPS database</h1>
	
	<header class="article-meta">
		
		
			
				


			
				


			
		
		
	</header>    
	<hr>
<p>SPS database is a small SQLite database which stores some basic app information,
the project encryption key pair, account information. The database is controlled
by 3 SPS R6 classes:</p>
<ul>
<li><strong>spsDb</strong>: basic database management, queries.</li>
<li><strong>spsEncryption</strong>: Interact with the SHA256 key pair in the database to encrypt
strings, and files. Also methods to view or change the key pair, inherits <code>spsDb</code></li>
<li><strong>spsAcount</strong>: use the encyption key pair to manage users and admin accounts in
SPS, inherits <code>spsDb</code> and <code>spsEncryption</code>.</li>
</ul>
<p>First to create a SPS project</p>
<pre><code class="language-r">suppressPackageStartupMessages(library(systemPipeShiny))
</code></pre>
<pre><code class="language-r">app_path &lt;- &quot;.&quot;
spsInit(app_path = app_path, overwrite = TRUE, open_files = FALSE)
</code></pre>
<pre><code>## [SPS-DANGER] 2021-04-22 15:45:04 Done, Db created at '/tmp/Rtmp3KQ3pG/SPS_20210422/config/sps.db'. DO NOT share this file with others or upload to open access domains.
## [SPS-INFO] 2021-04-22 15:45:04 Key md5 1d1f76c8eecddb382ee2db097d6edbe9
## [SPS-INFO] 2021-04-22 15:45:04 SPS project setup done!
</code></pre>
<p>You can see a database created on a SPS project initiation, you should see a message
like this:</p>
<pre><code>[SPS-DANGER] 2021-04-19 11:06:53 Done, Db created at 
</code></pre>
<p>Then we can use different class methods to interact with the database.</p>
<h2 id="spsdb-class"><code>spsDb</code> class</h2>
<p>Reference manual under <a href="../../../sps/funcs/sps/reference/spsDb.html">SPS Functions</a>.</p>
<p>Create a class object:</p>
<pre><code class="language-r">mydb &lt;- spsDb$new()
</code></pre>
<pre><code>## [SPS-INFO] 2021-04-22 15:45:04 Created SPS database method container
</code></pre>
<h3 id="create-new-db">create new db</h3>
<p>If there is no database, we can create one:</p>
<pre><code class="language-r"># delete current one first
try(file.remove(&quot;config/sps.db&quot;))
## [1] TRUE
# create a new one
mydb$createDb()
## [SPS-INFO] 2021-04-22 15:45:04 Creating SPS db...
## [SPS-DANGER] 2021-04-22 15:45:04 Done, Db created at 'config/sps.db'. DO NOT share this file with others or upload to open access domains.
## [SPS-INFO] 2021-04-22 15:45:04 Key md5 6306a50abcf3c7618566911a793b0405
</code></pre>
<p class="text-danger">If you create a new database, all information in the old database
will be overwritten. All old information will be lost</p>
<h3 id="get-tables">Get tables</h3>
<pre><code class="language-r"># meta info table
mydb$queryValue(&quot;sps_meta&quot;)
</code></pre>
<pre><code>##            info          value
## 1 creation_date 20210422154504
</code></pre>
<pre><code class="language-r"># raw blob table to store keys
mydb$queryValue(&quot;sps_raw&quot;)
</code></pre>
<pre><code>##   info         value
## 1  key blob[1.36 kB]
</code></pre>
<pre><code class="language-r"># account table
mydb$queryValue(&quot;sps_account&quot;)
</code></pre>
<pre><code>##   account                                                             pass
## 1   admin bef2094c429fa5b0ff7a37abc6bf8dd31c29fa2acd783a2303935d2b8664ea21
## 2    user 12842a62c410af0f4b4dc866283a90f7b7c42c9d5ca0d0e1c812dca11021b052
##    role
## 1 admin
## 2  user
</code></pre>
<h3 id="insert-new-recordsrows">Insert new records(rows)</h3>
<p>To add a new row, values of all columns needs to be passed in a SQL string</p>
<pre><code class="language-r">mydb$queryInsert(&quot;sps_meta&quot;, value = &quot;'new1', '1'&quot;)
</code></pre>
<pre><code>## [SPS-INFO] 2021-04-22 15:45:04 Inerted 1 rows
</code></pre>
<p>Or pass in a vector:</p>
<pre><code class="language-r">mydb$queryInsert(&quot;sps_meta&quot;, value = c(&quot;'new2'&quot;, &quot;'2'&quot;))
</code></pre>
<pre><code>## [SPS-INFO] 2021-04-22 15:45:04 Inerted 1 rows
</code></pre>
<pre><code class="language-r"># check the new table 
mydb$queryValue(&quot;sps_meta&quot;)
</code></pre>
<pre><code>##            info          value
## 1 creation_date 20210422154504
## 2          new1              1
## 3          new2              2
</code></pre>
<h3 id="change-values">change values</h3>
<pre><code class="language-r">mydb$queryUpdate(&quot;sps_meta&quot;, value = '234', col = &quot;value&quot;, WHERE = &quot;info = 'new1'&quot;)
</code></pre>
<pre><code>## [SPS-INFO] 2021-04-22 15:45:04 Updated 1 rows
</code></pre>
<pre><code class="language-r"># check the update
mydb$queryValue(&quot;sps_meta&quot;)
</code></pre>
<pre><code>##            info          value
## 1 creation_date 20210422154504
## 2          new1            234
## 3          new2              2
</code></pre>
<h3 id="remove-values">remove values</h3>
<pre><code class="language-r">mydb$queryDel(&quot;sps_meta&quot;, WHERE = &quot;value = '234'&quot;)
</code></pre>
<pre><code>## [SPS-INFO] 2021-04-22 15:45:05 Deleted 1 rows
</code></pre>
<pre><code class="language-r"># check again 
mydb$queryValue(&quot;sps_meta&quot;)
</code></pre>
<pre><code>##            info          value
## 1 creation_date 20210422154504
## 2          new2              2
</code></pre>
<h2 id="spsencryption-class"><code>spsEncryption</code> class</h2>
<p>Reference manual under <a href="../../../sps/funcs/sps/reference/spsEncryption.html">SPS Functions</a>.</p>
<p>Start by creating a class object</p>
<pre><code class="language-r">my_ecpt &lt;- spsEncryption$new()
## [SPS-INFO] 2021-04-22 15:45:05 Created SPS encryption method container
## [SPS-INFO] 2021-04-22 15:45:05 Default SPS-db found and is working
</code></pre>
<h3 id="get-current-key">Get current key</h3>
<p>To see the public and private keys (in {<a href="https://github.com/jeroen/openssl">openssil{blk}</a>} format):</p>
<pre><code class="language-r"># private
my_ecpt$keyGet()
</code></pre>
<pre><code>## [2048-bit rsa private key]
## md5: 6306a50abcf3c7618566911a793b0405
</code></pre>
<pre><code class="language-r"># public
my_ecpt$keyGet()$pubkey
</code></pre>
<pre><code>## [2048-bit rsa public key]
## md5: 6306a50abcf3c7618566911a793b0405
</code></pre>
<h3 id="change-the-encyption-key">Change the encyption key</h3>
<p class="text-danger text-bold" style="font-weight: 600;">Be super careful to change the encryption key. This will
result any file encrypted by the old key pair unlockable and the password of all 
current accounts invalid.</p>
<p>By default it will prevent you to change the key in case you accidentally run this
method</p>
<pre><code class="language-r">my_ecpt$keyChange()
</code></pre>
<pre><code>## [SPS-DANGER] 2021-04-22 15:45:05 
## change this key will result all accounts' password failed to
## authenticate. You have to regenerate all password for all
## accounts. All encrypted file using the old key will fail to
## decrypt. There is NO way to RECOVER the old key, password
## and files. If you wish to continue, recall this function
## with `confirm = TRUE`.
</code></pre>
<p>Unless you are super sure with a confirmation</p>
<pre><code class="language-r">my_ecpt$keyChange(confirm = TRUE)
</code></pre>
<pre><code>## [SPS-INFO] 2021-04-22 15:45:05 md5 42e4b167ba388a9e797608eb4e466a18
</code></pre>
<h3 id="encrypt-files">Encrypt files</h3>
<pre><code class="language-r"># imagine a file has one line &quot;test&quot;
writeLines(text = &quot;test&quot;, con = &quot;test.txt&quot;)
my_ecpt$encrypt(&quot;test.txt&quot;, &quot;test.bin&quot;, overwrite = TRUE)
</code></pre>
<h3 id="decrypt-files">Decrypt files</h3>
<pre><code class="language-r">my_ecpt$decrypt(&quot;test.bin&quot;, &quot;test_decpt.txt&quot;, overwrite = TRUE)
</code></pre>
<p>Check the decrypted file content</p>
<pre><code class="language-r">readLines('test_decpt.txt')
</code></pre>
<pre><code>## [1] &quot;test&quot;
</code></pre>
<h2 id="spsacount-class"><code>spsAcount</code> class</h2>
<p>This class is discussed in details in the <a href="../login">Accounts, login and admin</a>.</p>

	
	
	<div class="text-muted mt-5 pt-3 border-top">

    Last modified
    2021-08-05
    : <a  href="https://github.com/systemPipeR/systemPipeR.github.io/commit/d73456206df11f9867fcf99033febb343e618fc3">wf imgs (d7345620)</a>

</div>

</div>


              </main>
          


        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/systemPipeR/" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Bioconductor" aria-label="Bioconductor">
    <a class="text-white" target="_blank" rel="noopener" href="https://www.bioconductor.org/packages/release/bioc/html/systemPipeR.html" aria-label="Bioconductor">
      <i class="fa fa-dna"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Find an issue?" aria-label="Find an issue?">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/systemPipeR/systemPipeR/issues" aria-label="Find an issue?">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 The systemPipe Project All Rights Reserved</small>
        
	
		<p class="mt-2"><a href="../../../about/">About systemPipe Project</a></p>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>


<script>
  (function() {
    var i, text, code, codes = document.getElementsByTagName('code');
    for (i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
  })();
</script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    // Center justify equations in code and markdown cells. Elsewhere
    // we use CSS to left justify single line equations in code cells.
    displayAlign: 'center',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}},
        linebreaks: { automatic: true }
    }
});
</script>













<script src="../../../js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js" integrity="sha256-OxcsE7YsK&#43;qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin="anonymous"></script>



<script src='../../../js/prism.js'></script>



  </body>
</html>
