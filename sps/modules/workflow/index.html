<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.79.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../favicons/android-192x192.png sizes=192x192><title>Workflow | sysPipe</title><meta property="og:title" content="Workflow"><meta property="og:description" content="Workflow management The workflow management module in SPS allows one to modify or create the configuration files required for running data analysis workflows in systemPipeR (SPR). This includes three types of important files: a sample metadata (targets) file, a workflow file (in R Markdown format) defining the workflow steps, and workflow running files in Common Workflow Language (CWL){blk} format. In SPS, one can easily create these files under the &ldquo;Workflow Management&rdquo; module, located in navigation bar on the left of the dashboard."><meta property="og:type" content="article"><meta property="og:url" content="/sps/modules/workflow/"><meta property="article:modified_time" content="2021-07-10T02:12:56+00:00"><meta property="og:site_name" content="sysPipe"><meta itemprop=name content="Workflow"><meta itemprop=description content="Workflow management The workflow management module in SPS allows one to modify or create the configuration files required for running data analysis workflows in systemPipeR (SPR). This includes three types of important files: a sample metadata (targets) file, a workflow file (in R Markdown format) defining the workflow steps, and workflow running files in Common Workflow Language (CWL){blk} format. In SPS, one can easily create these files under the &ldquo;Workflow Management&rdquo; module, located in navigation bar on the left of the dashboard."><meta itemprop=dateModified content="2021-07-10T02:12:56+00:00"><meta itemprop=wordCount content="1199"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Workflow"><meta name=twitter:description content="Workflow management The workflow management module in SPS allows one to modify or create the configuration files required for running data analysis workflows in systemPipeR (SPR). This includes three types of important files: a sample metadata (targets) file, a workflow file (in R Markdown format) defining the workflow steps, and workflow running files in Common Workflow Language (CWL){blk} format. In SPS, one can easily create these files under the &ldquo;Workflow Management&rdquo; module, located in navigation bar on the left of the dashboard."><link rel=preload href=../../../scss/main.min.7822b7c057b4a810809dabf336eddb9515f800a3275417dc6ae2da2d35a0d1d1.css as=style><link href=../../../scss/main.min.7822b7c057b4a810809dabf336eddb9515f800a3275417dc6ae2da2d35a0d1d1.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><link rel=stylesheet href=../../../css/prism.css><script src=../../../js/driver0.9.8.min.js></script><link rel=stylesheet href=../../../css/driver0.9.8.min.css><link rel=stylesheet href=../../../css/site.css><script src=../../../js/site.js></script></head><body class="td-page line-numbers"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=../../../><span class=font-weight-bold>sysPipe</span></a>
<row class=header-switch><div class="custom-control custom-switch"><input type=checkbox class=custom-control-input id=sidebarSwitch checked>
<label class=custom-control-label for=sidebarSwitch>sidebar</label></div><div class="custom-control custom-switch"><input type=checkbox class=custom-control-input id=tocSwitch checked>
<label class=custom-control-label for=tocSwitch>toc</label></div></row><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0" style=position:relative><a class="nav-link dropdown-toggle" href=../../../about/ id=navbarDropdown role=button>About</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../about/overview/ style=padding-left:1rem;font-weight:calc(3/3*500)>Overview</a>
<a class=dropdown-item href=../../../about/team/ style=padding-left:1rem;font-weight:calc(3/3*500)>Our Team</a>
<a class=dropdown-item href=../../../about/publications/ style=padding-left:1rem;font-weight:calc(3/3*500)>Publications</a>
<a class=dropdown-item href=../../../about/acknowledgement/ style=padding-left:1rem;font-weight:calc(3/3*500)>Acknowledgement</a>
<a class=dropdown-item href=../../../about/contact/ style=padding-left:1rem;font-weight:calc(3/3*500)>Contact</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0" style=position:relative><a class="nav-link dropdown-toggle" href=../../../sp/ id=navbarDropdown role=button>systemPipeR</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../sp/spr/ style=padding-left:1rem;font-weight:calc(3/3*500)>systemPipeR Package</a>
<a class=dropdown-item href=../../../sp/spr/introduction/ style=padding-left:2rem;font-weight:calc(3/4*500)>Introduction</a>
<a class=dropdown-item href=../../../sp/spr/gettingstarted/ style=padding-left:2rem;font-weight:calc(3/4*500)>Getting Started</a>
<a class=dropdown-item href=../../../sp/spr/spr_run/ style=padding-left:2rem;font-weight:calc(3/4*500)>How to run a Workflow</a>
<a class=dropdown-item href=../../../sp/spr/steps/ style=padding-left:2rem;font-weight:calc(3/4*500)>Workflow steps overview</a>
<a class=dropdown-item href=../../../sp/spr/templates/ style=padding-left:2rem;font-weight:calc(3/4*500)>Workflow Templates</a>
<a class=dropdown-item href=../../../sp/spr/spr_funcs/ style=padding-left:2rem;font-weight:calc(3/4*500)>Reference Manual</a>
<a class=dropdown-item href=../../../sp/spr/sprinstall/ style=padding-left:2rem;font-weight:calc(3/4*500)>SPR detailed installation</a>
<a class=dropdown-item href=../../../sp/spt/ style=padding-left:1rem;font-weight:calc(3/3*500)>systemPipeRTools</a>
<a class=dropdown-item href=../../../sp/spt/ style=padding-left:2rem;font-weight:calc(3/4*500)>Data Visualization</a>
<a class=dropdown-item href=../../../sp/sprdata/ style=padding-left:1rem;font-weight:calc(3/3*500)>systemPipeRdata</a>
<a class=dropdown-item href=../../../sp/sprdata/systempiperdata/ style=padding-left:2rem;font-weight:calc(3/4*500)>Vignette</a>
<a class=dropdown-item href=../../../sp/sprdata/newwf/ style=padding-left:2rem;font-weight:calc(3/4*500)>Rules</a>
<a class=dropdown-item href=../../../spr/ style=padding-left:1rem;font-weight:calc(3/3*500)>Links</a>
<a class=dropdown-item href=http://bioconductor.org/packages/devel/bioc/html/systemPipeR.html style=padding-left:2rem;font-weight:calc(3/4*500)>SPR Bioconductor</a>
<a class=dropdown-item href=https://github.com/tgirke/systemPipeR style=padding-left:2rem;font-weight:calc(3/4*500)>SPR GitHub</a>
<a class=dropdown-item href=http://bioconductor.org/packages/devel/data/experiment/html/systemPipeRdata.html style=padding-left:2rem;font-weight:calc(3/4*500)>SPRdata Bioconductor</a>
<a class=dropdown-item href=https://github.com/tgirke/systemPipeRdata style=padding-left:2rem;font-weight:calc(3/4*500)>SPRdata GitHub</a>
<a class=dropdown-item href=https://github.com/tgirke/systemPipeTools style=padding-left:2rem;font-weight:calc(3/4*500)>SPT GitHub</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0" style=position:relative><a class="nav-link dropdown-toggle" href=../../../sps/ id=navbarDropdown role=button>Shiny</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../sps/ style=padding-left:1rem;font-weight:calc(3/3*500)>SPS Documentation</a>
<a class=dropdown-item href=https://github.com/systemPipeR/systemPipeShiny style=padding-left:1rem;font-weight:calc(3/3*500)>Github</a>
<a class=dropdown-item href=http://bioconductor.org/packages/3.13/bioc/html/systemPipeShiny.html style=padding-left:1rem;font-weight:calc(3/3*500)>Bioconductor</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0" style=position:relative><a class="nav-link dropdown-toggle" href=../../../spr_wf id=navbarDropdown role=button>Workflows</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../spr_wf style=padding-left:1rem;font-weight:calc(3/3*500)>Collection</a>
<a class=dropdown-item href=../../../spr_wf/installwf/ style=padding-left:1rem;font-weight:calc(3/3*500)>How to install Workflow</a>
<a class=dropdown-item href=../../../spr_wf/newwf style=padding-left:1rem;font-weight:calc(3/3*500)>Rules to create Workflow</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0" style=position:relative><a class="nav-link dropdown-toggle" href=../../../training/ id=navbarDropdown role=button>Training</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../training/conferences/ style=padding-left:1rem;font-weight:calc(3/3*500)>Conferences</a>
<a class=dropdown-item href=../../../training/presentations/ style=padding-left:1rem;font-weight:calc(3/3*500)>Presentations</a>
<a class=dropdown-item href=../../../training/videos/ style=padding-left:1rem;font-weight:calc(3/3*500)>Videos Tutorials</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0" style=position:relative><a class="nav-link dropdown-toggle" href=../../../news/ id=navbarDropdown role=button>News</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../news/release_3_12/ style=padding-left:1rem;font-weight:calc(3/3*500)>Bioconductor 3.12</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.2ca072d54cc4806e0f08502e44c117a4.json data-offline-search-base-href=../../../ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.2ca072d54cc4806e0f08502e44c117a4.json data-offline-search-base-href=../../../ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../sps/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">systemPipeShiny</a></li><ul><li class="collapse show" id=sps><a class="td-sidebar-link td-sidebar-link__page" id=m-spsintro href=../../../sps/intro/>Introduction</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsinstall href=../../../sps/install/>Installation</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsquick_start href=../../../sps/quick_start/>Quick start</a><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../sps/modules/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Modules</a></li><ul><li class="collapse show" id=spsmodules><a class="td-sidebar-link td-sidebar-link__page active" id=m-spsmodulesworkflow href=../../../sps/modules/workflow/>Workflow</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsmodulesrnaseq href=../../../sps/modules/rnaseq/>RNAseq</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsmodulesggplot href=../../../sps/modules/ggplot/>Quick ggplot</a></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-spscanvas href=../../../sps/canvas/>Canvas</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spssps_funcs href=../../../sps/sps_funcs/>SPS Functions</a><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../sps/adv_features/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Advanced features</a></li><ul><li class=collapse id=spsadv_features><a class="td-sidebar-link td-sidebar-link__page" id=m-spsadv_featuresconfig href=../../../sps/adv_features/config/>Configuration</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsadv_featurestabs href=../../../sps/adv_features/tabs/>Manage tabs</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsadv_featuresoverwritetabs href=../../../sps/adv_features/overwritetabs/>Overwrite tabs</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsadv_featuresdisplaytabs href=../../../sps/adv_features/displaytabs/>Toggle tabs</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsadv_featuresnotification href=../../../sps/adv_features/notification/>Notification system</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsadv_featuresguide href=../../../sps/adv_features/guide/>SPS Guide</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsadv_featuresapp_security href=../../../sps/adv_features/app_security/>App security</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsadv_featuresdatabase href=../../../sps/adv_features/database/>SPS database</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsadv_featureslogin href=../../../sps/adv_features/login/>Accounts, login and admin</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsadv_featuresdebug href=../../../sps/adv_features/debug/>Debugging</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsadv_featuresother_customizations href=../../../sps/adv_features/other_customizations/>Other customizations</a></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-spsdeploy href=../../../sps/deploy/>Deploy</a><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../sps/dev/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developer tools</a></li><ul><li class=collapse id=spsdev><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../sps/dev/spscomps/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">spsComps</a></li><ul><li class=collapse id=spsdevspscomps><a class="td-sidebar-link td-sidebar-link__page" id=m-spsdevspscompsui href=../../../sps/dev/spscomps/ui/>UI components</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsdevspscompsserver href=../../../sps/dev/spscomps/server/>Server functions</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../sps/dev/drawer/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">drawer</a></li><ul><li class=collapse id=spsdevdrawer><a class="td-sidebar-link td-sidebar-link__page" id=m-spsdevdrawershiny href=../../../sps/dev/drawer/shiny/>drawer in Shiny</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-spsdevdrawerrmd href=../../../sps/dev/drawer/rmd/>drawer in Rmarkdown</a></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-spsdevspsutil href=../../../sps/dev/spsutil/>spsUtil</a></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-spsscreenshots href=../../../sps/screenshots/>Screenshots</a></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://raw.githubusercontent.com/systemPipeR/systemPipeR.github.io/main/content/en/sps/modules/workflow.md target=_blank class=source-link><i class="fa fa-code fa-fw"></i>View source code</a>
<a href=https://github.com/systemPipeR/systemPipeR.github.io/blob/main/content/en/sps/modules/workflow.md target=_blank><i class="fab fa-github fa-fw"></i>View on Github</a>
<a href=https://github.com/systemPipeR/systemPipeR.github.io/edit/main/content/en/sps/modules/workflow.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/systemPipeR/systemPipeR.github.io/new/main/content/en/sps/modules/workflow.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i>Create child page</a>
<a href=https://github.com/systemPipeR/systemPipeR.github.io/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>Create project issue</a></div><nav id=TableOfContents><ul><li><ul><li><a href=#workflow-management>Workflow management</a><ul><li><a href=#1-setup-a-workflow>1. setup a workflow</a></li><li><a href=#2-prepare-a-target-file>2. Prepare a target file</a></li><li><a href=#3-prepare-a-workflow-file>3. Prepare a workflow file</a></li><li><a href=#4-prepare-cwl-files-optional>4. Prepare CWL files (optional)</a></li><li><a href=#5-run-or-finish-workflow-preparation>5. Run or finish workflow preparation</a></li></ul></li><li><a href=#app-security>App security</a></li><li><a href=#is_demo-option><code>is_demo</code> option</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=../../../sps/>systemPipeShiny</a></li><li class=breadcrumb-item><a href=../../../sps/modules/>Modules</a></li><li class="breadcrumb-item active" aria-current=page><a href=../../../sps/modules/workflow/>Workflow</a></li></ol></nav><div class=td-content><h1>Workflow</h1><h2 id=workflow-management>Workflow management</h2><p>The workflow management module in <code>SPS</code> allows one to modify or create the
configuration files required for running data analysis workflows in
<a href=https://systempipe.org/sp/spr/>systemPipeR</a> (SPR). This includes
three types of important files: a sample metadata (targets) file, a
workflow file (in R Markdown format) defining the workflow steps, and workflow running
files in <a href=https://www.commonwl.org/>Common Workflow Language (CWL){blk}</a> format. In SPS, one can easily create
these files under the &ldquo;Workflow Management&rdquo; module, located in navigation bar
on the <a href=../../../sps/quick_start/#launch-sps>left of the dashboard</a>.</p><p>The current version of <code>SPS</code> allows to:</p><ol><li>create a workflow environment;</li><li>create and/or check the format of targets / workflow / CWL files;</li><li>download the prepared workflow files to run elsewhere, like a cluster;</li><li>directly execute the workflow from SPS.</li></ol><h3 id=1-setup-a-workflow>1. setup a workflow</h3><center><p><img src=../img/sps_wf_setup.jpg alt=wf_setup></p></center><p><strong>Figure 3. A.</strong> Workflow Management - Targets File</p><ol><li>In the workflow module, read the instructions and choose step 1. Step 1 should be
automatically opened for you on start.</li><li>Choose a folder where you want to create the workflow environment.</li><li>Choose a workflow template. These are SPR workflows and mainly are next-generation
sequencing workflows.</li><li>Click &ldquo;Gen workflow&rdquo; to create the workflow project.</li><li>You should see a pop-up saying about the project path and other information.
Clicking the pop-up will jump you to the step 2. The status tracker and banner for
step 1 should all turn green.</li></ol><h3 id=2-prepare-a-target-file>2. Prepare a target file</h3><p>The targets file defines all input file paths and other sample information of
analysis workflows. To better undertand the structure of this file, one can
consult the <a href=https://systempipe.org/sp/spr/gettingstarted/#structure-of-targets-file>&ldquo;Structure of targets
file&rdquo;</a>
section in the SPR vignette. Essentially, this is the tabular file representation
of the <code>colData</code> slot in an <code>SummarizedExperiment</code> object which stores sample
IDs and other meta information.</p><p>The following step-by-step instructions explain how to create and/or modify targets
files using RNA-Seq as an example (Fig.3 A):</p><ol><li>Your project targets file is loaded for you, but you can choose to upload a different one.</li><li>You can edit, right click to add/remove rows/columns (The first row is treated as column names).</li><li>SPR target file includes a header block, that can also be edited in the SPS app. Each headers needs to start with a &ldquo;#&rdquo;. Header is only useful for RNA-Seq workflow in current SPR. You can define sample comparison groups
here. Leave it as default for other projects.</li><li>The section on the left provides sample statistics and information whether files exist inside the workflow project&rsquo;s <code>data</code> directory. Choose any column you want from the dropdown to check and watch the statistics bar change in this section.</li><li>statistic status bar.</li><li>Clicking on &ldquo;Add to task&rdquo; can help you to check if your target file has any formatting problem. You should see a green success pop-up if everything is right. Now your target file is ready and you can click &ldquo;save&rdquo; to download it and later use in a SPR project.</li></ol><center><p><img src=../img/sps_ui_target.jpg alt=wf_targets></p></center><p><strong>Figure 3. A.</strong> Workflow Management - Targets File</p><h3 id=3-prepare-a-workflow-file>3. Prepare a workflow file</h3><p>In SPR, workflows are defined in Rmarkdown files, you can read details and obtain them <a href=https://systempipe.org/sp/spr/templates/>here</a>.</p><p>Now let us follow the order below to see how SPS helps you to prepare a workflow file for a RNAseq project (Fig.3 B):</p><ol><li>Your project workflow file is loaded for you, but you can choose to upload a different one.</li><li>The workflow structure is displayed in a tree-leaf-like plot.</li><li>Check all steps in the workflow that you want to include. You can skip (uncheck) some steps but it may cause the workflow to fail. Read more SPR instructions before do so.</li><li>Clicking on the &ldquo;Plot steps&rdquo; will show a flow chart of what the step execution orders will be when you run the workflow in SPR.</li><li>Clicking &ldquo;Report preview&rdquo; generates a preview of what the final report will look like for current RNAseq workflow (hidden in Fig 3.B), but in the preview, no code is evaluated.</li><li>If you are satisfied with your workflow file, click &ldquo;Add to task&rdquo; to save your workflow file.</li></ol><center><p><img src=../img/sps_ui_wf.jpg alt=wf_wf></p></center><p><strong>Figure 3. B.</strong> Workflow Management - Workflow File</p><h3 id=4-prepare-cwl-files-optional>4. Prepare CWL files (optional)</h3><p>In the new version of SPR, all individual system workflow steps are called by the
CWL files. Each SPR workflow has a set of CWL files and normally users do not need
to make any change. In case you want to learn more about CWL and create some new
CWL files, Step 4 is a good place to practice.</p><p>To run a CWL step in SPR, 3 files are required:</p><ul><li>targets: to determine how many samples will be run and sample names.</li><li>CWL running file: can be translated to bash code;</li><li>CWL input: variables to inject into the running file</li></ul><p>SPR is the parser between R and CWL by injecting sample information from targets
to <code>CWL input</code> file and then CWL parser translates it to bash code.</p><ol><li>Most people are not familiar this part, so read instructions carefully.</li><li>Your project targets has been loaded for you, and an example CWL running and input
for <strong>hisat2</strong> is also loaded for you. Directly parse the code. See what commandline
code you get.</li><li>Change the targets injecting column, and parse again, see what has changed.</li><li>You can edit the CWL running and input files</li><li>Try to parse the new file and see what has changed.</li><li>If new CWL files has been created, you can edit workflow Rmd files by adding your
new steps.</li></ol><center><p><img src=../img/sps_wf_cwl.jpg alt=wf_cwl></p></center><p><strong>Figure 3. C.</strong> Workflow Management - CWL File</p><h3 id=5-run-or-finish-workflow-preparation>5. Run or finish workflow preparation</h3><p>Up until this step, congratulations, the workflow is prepared. You can choose to
download the workflow project files as a bundle or continue to run the workflow.</p><center><p><img src=../img/sps_wf_run.jpg alt=wf_cwl></p></center><p><strong>Figure 4.A.B</strong> Workflow Runner</p><ol><li>On step 5 you can choose to download the prepared workflow or directly run the
workflow. However, if you do not have the required commandline tools, workflow will
most likely fail. Make sure you system has these tools (<a href=http://bioconductor.org/packages/release/bioc/vignettes/systemPipeR/inst/doc/systemPipeR.html#261_Third-party_software_tools>Read about these tools</a>).</li><li>Open up the runner. It is a &ldquo;Rstudio-like&rdquo; interface.</li><li>Code editor. Required workflow running code is pre-entered for you. You can simply
hit &ldquo;Run&rdquo; to start. Of course, you can delete the default code and run random R
code.</li><li>Output R console.</li><li>Workflow running log.</li><li>View any plot output. and send a copy of your current plot to SPS Canvas tab or
download it.</li></ol><h2 id=app-security>App security</h2><p>Running the workflow may introduce some security concerns. Read <a href=../../../sps/adv_features/app_security/#the-workflow-module>App Security</a>
for more details.</p><h2 id=is_demo-option><code>is_demo</code> option</h2><p>The <code>is_demo</code> <a href=../../../sps/adv_features/config/#app-options>option</a> will impact the workflow
module.</p><ul><li><code>TRUE</code>: you are <strong>not</strong> deploying the app for production purpose. It is just a show case.
Under this option, users who are trying to create a workflow will be locked inside
a temp directory and every time they start a new session, they will be assigned to
a new temp directory. This is useful if many people want to try the app the same
time, so they will have different private environments, and the temp directory will
be removed after the Shiny session is closed.</li><li><code>FALSE</code>: you are using the app on your own local computer or use it in a production
environment. WF module will have <strong>full access</strong> to the sever storage system and
users can choose <strong>any place</strong> they have permissions to create the workflow session.</li></ul><div class="text-muted mt-5 pt-3 border-top">Last modified 2021-07-10: <a href=https://github.com/systemPipeR/systemPipeR.github.io/commit/58e75adb1002d184000dfb9a67d6b9a11432f45b>Bot build site (58e75ad)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/systemPipeR/><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Bioconductor aria-label=Bioconductor><a class=text-white target=_blank rel="noopener noreferrer" href=https://www.bioconductor.org/packages/release/bioc/html/systemPipeR.html><i class="fa fa-dna"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Find an issue?" aria-label="Find an issue?"><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/systemPipeR/systemPipeR/issues><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 The systemPipeR Project All Rights Reserved</small><p class=mt-2><a href=../../../about/>About systemPipe Project</a></p></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script>(function(){var i,text,code,codes=document.getElementsByTagName('code');for(i=0;i<codes.length;){code=codes[i];if(code.parentNode.tagName!=='PRE'&&code.childElementCount===0){text=code.textContent;if(/^\$[^$]/.test(text)&&/[^$]\$$/.test(text)){text=text.replace(/^\$/,'\\(').replace(/\$$/,'\\)');code.textContent=text;}
if(/^\\\((.|\s)+\\\)$/.test(text)||/^\\\[(.|\s)+\\\]$/.test(text)||/^\$(.|\s)+\$$/.test(text)||/^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)){code.outerHTML=code.innerHTML;continue;}}
i++;}})();</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    // Center justify equations in code and markdown cells. Elsewhere
    // we use CSS to left justify single line equations in code cells.
    displayAlign: 'center',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}},
        linebreaks: { automatic: true }
    }
});
</script><script src=../../../js/main.min.f820bfc507c3ebefe17f8881ec4ee10013f3b89ad9555a50acf9bb1771e6823f.js integrity="sha256-+CC/xQfD6+/hf4iB7E7hABPzuJrZVVpQrPm7F3Hmgj8=" crossorigin=anonymous></script><script src=../../../js/prism.js></script></body></html>