<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>drawer main canvas workbench compinent — canvas • drawer</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="drawer main canvas workbench compinent — canvas" />
<meta property="og:description" content="use this function on Shiny UI or R markdown to create the
image editing area." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">drawer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="https://systempipe.org/sps/">
    <span class="fa fa fa fa-home"></span>
     
    SPS Home
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lz100/drawer/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>drawer main canvas workbench compinent</h1>
    <small class="dont-index">Source: <a href='https://github.com/lz100/drawer/blob/master/R/canvas.R'><code>R/canvas.R</code></a></small>
    <div class="hidden name"><code>canvas.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>use this function on Shiny UI or R markdown to create the
image editing area.</p>
    </div>

    <pre class="usage"><span class='fu'>canvas</span><span class='op'>(</span>
  <span class='va'>canvasID</span>,
  title <span class='op'>=</span> <span class='st'>"drawer"</span>,
  height <span class='op'>=</span> <span class='st'>"100vh"</span>,
  width <span class='op'>=</span> <span class='st'>"100%"</span>,
  logo_src <span class='op'>=</span> <span class='st'>"drawer/img/drawer.png"</span>,
  log_link <span class='op'>=</span> <span class='st'>"https://github.com/lz100/drawer"</span>,
  on_start <span class='op'>=</span> <span class='cn'>TRUE</span>,
  rmarkdown <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>canvasID</th>
      <td><p>string, an unique HTML ID</p></td>
    </tr>
    <tr>
      <th>title</th>
      <td><p>string, title of the canvas</p></td>
    </tr>
    <tr>
      <th>height</th>
      <td><p>string, css value of initial height of the canvas, like "100vh"
for full height current window, "50vh" for half.</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>string, css value of initial width of the canvas</p></td>
    </tr>
    <tr>
      <th>logo_src</th>
      <td><p>string, link of an image you want to display as logo on the
top left</p></td>
    </tr>
    <tr>
      <th>log_link</th>
      <td><p>string, a link, when the logo is clicked, where should it jump to</p></td>
    </tr>
    <tr>
      <th>on_start</th>
      <td><p><code>TRUE</code> or a CSS selector. See details</p></td>
    </tr>
    <tr>
      <th>rmarkdown</th>
      <td><p>bool, are you using inside R markdown? If yes, drawer will copy
all image icons that required by the canvas to current directory to <code>./drawer/img/...</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a HTML component to be added to a Shiny app or document</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>outside Shiny or Rmarkdown</h3>


<p><strong>If you are not working in Shiny or R markdown, you need to add the</strong>
<strong>required full "Bootstrap3" javascript and CSS + latest "jquery" dependencies by yourself.</strong></p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>height and width</h3>


<p>There are two options for canvas height and width:</p><ul>
<li><p>dynamic CSS units like "100vh" (viewpoint height), "100vw" (view point width),
or "100%" for both. This kind of units adapt to all kinds of user screen settings.</p></li>
<li><p>fixed unit, <code>px</code> (pixels). This does not change across users, but fixes
the <code>on_start</code> problem (read below).</p></li>
</ul>


<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>height</h3>

<ul>
<li><p><code>height</code>, css style <code>vh</code> is safer than <code>%</code> is not safe, unless the parent
has some defined height, "%" will work. Otherwise, if the parent height is "auto"
or not defined, and you choose "100%", canvas will still have 0 height.</p></li>
</ul>

<p>Width usually does not have this problem. As long as an element is displayed,
it has some width.</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a><code>on_start</code></h3>


<p>This argument specify if you want to initiate the canvas when the document is loaded.
If <code>TRUE</code>, then when the document loading is done, start the canvas. The problem
is if you set the height to be "vh" (view height) units and if the canvas is
hidden, like in a different tab and not displayed on start, the view height is
0, because it is hidden on another tab (display property is <code>none</code>), so it
will cause the canvas cannot be initiated properly.</p>
<p>The solution is to bind the initiation with a clicking event, like on a tab or a button.
For example, make a button on the second tab and bind <code>on_start</code> to that button:
<code>on_start = "#buttonID"</code>. Then when users click on that button, canvas initiate.
Remember this is a Jquery CSS selector, which means you need to append "#" in
front your button ID.</p>
<p>If you want to do it automatically, like clicking on a certain tab, some CSS
knowledge may required. For example, in Shiny, you can use <a href='https://rdrr.io/pkg/shiny/man/tabsetPanel.html'>shiny::tabsetPanel</a>
to create a tab panel.<div class="r"></p><pre><span class='fu'><a href='https://rdrr.io/pkg/shiny/man/tabsetPanel.html'>tabsetPanel</a></span><span class='op'>(</span>id <span class='op'>=</span> <span class='st'>"tabs"</span>,
    <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/tabPanel.html'>tabPanel</a></span><span class='op'>(</span><span class='st'>"Tab A"</span>, value <span class='op'>=</span> <span class='st'>"A"</span>, <span class='va'>...</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/tabPanel.html'>tabPanel</a></span><span class='op'>(</span><span class='st'>"Tab B"</span>, value <span class='op'>=</span> <span class='st'>"B"</span>, <span class='va'>...</span><span class='op'>)</span>,
    <span class='va'>...</span>
<span class='op'>)</span>

</pre><p></div></p>
<p>Then, bind to it <code>canvas(on_start = '#tabs li a[data-value="B"]', ...)</code>.
This means we are selecting the element with ID "tabs", which is the main tabsetPanel
ID, then a list item (<code>li</code>) which is the tab titles you see on UI, and finally, the
link jump to tab B, (<code>a[data-value="B"]</code>). See examples for a real case.</p>
<p>Another way to fix it is by given the <code>height</code> and <code>width</code> a fixed pixel unit:<div class="r"></p><pre><span class='fu'>canvas</span><span class='op'>(</span>
    canvasID <span class='op'>=</span> <span class='st'>"canvas_f"</span>,
    height <span class='op'>=</span> <span class='st'>"900px"</span>,
    width <span class='op'>=</span> <span class='st'>"1500px"</span>
<span class='op'>)</span>
</pre><p></div></p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Upload your own image to canvas</h3>


<p>You can drag your own images to the canvas.
Support major image formats, like "jpg", "png", "svg", "gif", "webp", "bmp".
Moving images like
"gif", "webp" will be animated on left side preview, but will not move on canvas.</p>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># basic usage</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://shiny.rstudio.com/'>shiny</a></span><span class='op'>)</span>

  <span class='va'>ui</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/fluidPage.html'>fluidPage</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>h3</a></span><span class='op'>(</span><span class='st'>"Try to drag pictures locally to canvas"</span><span class='op'>)</span>,
    <span class='fu'>canvas</span><span class='op'>(</span><span class='st'>"canvas_a"</span><span class='op'>)</span>
  <span class='op'>)</span>

  <span class='va'>server</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>input</span>, <span class='va'>output</span>, <span class='va'>session</span><span class='op'>)</span> <span class='op'>{</span>

  <span class='op'>}</span>

  <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/shinyApp.html'>shinyApp</a></span><span class='op'>(</span><span class='va'>ui</span>, <span class='va'>server</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># multiple canvas on a page</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://shiny.rstudio.com/'>shiny</a></span><span class='op'>)</span>

  <span class='va'>ui</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/fluidPage.html'>fluidPage</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>h3</a></span><span class='op'>(</span><span class='st'>"multiple canvas on a page"</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>p</a></span><span class='op'>(</span><span class='st'>"They are independent"</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>p</a></span><span class='op'>(</span><span class='st'>"Dragging from one canvas to another is not supported currently"</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/column.html'>column</a></span><span class='op'>(</span><span class='fl'>6</span>, <span class='fu'>canvas</span><span class='op'>(</span><span class='st'>"canvas_left"</span><span class='op'>)</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/column.html'>column</a></span><span class='op'>(</span><span class='fl'>6</span>, <span class='fu'>canvas</span><span class='op'>(</span><span class='st'>"canvas_right"</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>)</span>

  <span class='va'>server</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>input</span>, <span class='va'>output</span>, <span class='va'>session</span><span class='op'>)</span> <span class='op'>{</span>

  <span class='op'>}</span>

  <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/shinyApp.html'>shinyApp</a></span><span class='op'>(</span><span class='va'>ui</span>, <span class='va'>server</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># with capture buttons buttons</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://shiny.rstudio.com/'>shiny</a></span><span class='op'>)</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span>
  <span class='va'>ui</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/fluidPage.html'>fluidPage</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/fluidPage.html'>fluidRow</a></span><span class='op'>(</span>
      id <span class='op'>=</span> <span class='st'>"new_row"</span>,
      <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/column.html'>column</a></span><span class='op'>(</span>
        <span class='fl'>6</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>h3</a></span><span class='op'>(</span><span class='st'>"this is a title"</span><span class='op'>)</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/column.html'>column</a></span><span class='op'>(</span><span class='fl'>6</span>, <span class='va'>tags</span><span class='op'>$</span><span class='fu'>label</span><span class='op'>(</span><span class='st'>"plot 1"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/plotOutput.html'>plotOutput</a></span><span class='op'>(</span><span class='st'>"plot_1"</span><span class='op'>)</span><span class='op'>)</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/column.html'>column</a></span><span class='op'>(</span><span class='fl'>6</span>, <span class='va'>tags</span><span class='op'>$</span><span class='fu'>label</span><span class='op'>(</span><span class='st'>"plot 2"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/plotOutput.html'>plotOutput</a></span><span class='op'>(</span><span class='st'>"plot_2"</span><span class='op'>)</span><span class='op'>)</span>,
      <span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/column.html'>column</a></span><span class='op'>(</span>
        <span class='fl'>6</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>h2</a></span><span class='op'>(</span><span class='st'>"To canvas buttons"</span><span class='op'>)</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>h4</a></span><span class='op'>(</span><span class='st'>"pure button with `toCanvasBtn`"</span><span class='op'>)</span>,
        <span class='fu'><a href='toCanvasBtn.html'>toCanvasBtn</a></span><span class='op'>(</span>
          dom <span class='op'>=</span> <span class='st'>"plot_1"</span>,
          label <span class='op'>=</span> <span class='st'>"capture plot 1"</span>,
          canvasID <span class='op'>=</span> <span class='st'>"canvas_b"</span>
        <span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>br</a></span><span class='op'>(</span><span class='op'>)</span>,
        <span class='fu'><a href='toCanvasBtn.html'>toCanvasBtn</a></span><span class='op'>(</span>
          dom <span class='op'>=</span> <span class='st'>"capture_button"</span>,
          label <span class='op'>=</span> <span class='st'>"capture this button itself"</span>,
          canvasID <span class='op'>=</span> <span class='st'>"canvas_b"</span>,
          id <span class='op'>=</span> <span class='st'>"capture_button"</span>
        <span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>br</a></span><span class='op'>(</span><span class='op'>)</span>,
        <span class='fu'><a href='toCanvasBtn.html'>toCanvasBtn</a></span><span class='op'>(</span>
          dom <span class='op'>=</span> <span class='st'>"#new_row .col-sm-6:first-of-type"</span>,
          label <span class='op'>=</span> <span class='st'>"complex selector to select left column"</span>,
          canvasID <span class='op'>=</span> <span class='st'>"canvas_b"</span>,
          isID <span class='op'>=</span> <span class='cn'>FALSE</span>
        <span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>br</a></span><span class='op'>(</span><span class='op'>)</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>h4</a></span><span class='op'>(</span><span class='st'>"button text input for any part of document with `toCanvasBtn`"</span><span class='op'>)</span>,
        <span class='fu'><a href='toCanvasTextBtn.html'>toCanvasTextBtn</a></span><span class='op'>(</span>
          label <span class='op'>=</span> <span class='st'>"try #plot_2 to for plot 2 or other selector"</span>,
          canvasID <span class='op'>=</span> <span class='st'>"canvas_b"</span>,
          text_value <span class='op'>=</span> <span class='st'>"#plot_2"</span>
        <span class='op'>)</span>
      <span class='op'>)</span>
    <span class='op'>)</span>,
    <span class='fu'>canvas</span><span class='op'>(</span><span class='st'>"canvas_b"</span><span class='op'>)</span>
  <span class='op'>)</span>

  <span class='va'>server</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>input</span>, <span class='va'>output</span>, <span class='va'>session</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='va'>output</span><span class='op'>$</span><span class='va'>plot_1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/renderPlot.html'>renderPlot</a></span><span class='op'>(</span><span class='op'>{</span>
      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>mpg</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>cty</span>, <span class='va'>hwy</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
        <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_count.html'>geom_count</a></span><span class='op'>(</span>col<span class='op'>=</span><span class='st'>"tomato3"</span>, show.legend<span class='op'>=</span><span class='cn'>F</span><span class='op'>)</span>
    <span class='op'>}</span><span class='op'>)</span>
    <span class='va'>output</span><span class='op'>$</span><span class='va'>plot_2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/renderPlot.html'>renderPlot</a></span><span class='op'>(</span><span class='op'>{</span>
      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>mpg</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>cty</span>, <span class='va'>hwy</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
        <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='op'>)</span>
    <span class='op'>}</span><span class='op'>)</span>
  <span class='op'>}</span>

  <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/shinyApp.html'>shinyApp</a></span><span class='op'>(</span><span class='va'>ui</span>, <span class='va'>server</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># start canvas as hidden, initiate later in tab panels</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://shiny.rstudio.com/'>shiny</a></span><span class='op'>)</span>

  <span class='va'>ui</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/fluidPage.html'>fluidPage</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/tabsetPanel.html'>tabsetPanel</a></span><span class='op'>(</span>
      id <span class='op'>=</span> <span class='st'>"tabs"</span>,
      <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/tabPanel.html'>tabPanel</a></span><span class='op'>(</span>
        <span class='st'>"Home page"</span>,
        value <span class='op'>=</span> <span class='st'>"tab_1"</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>h4</a></span><span class='op'>(</span><span class='st'>"Content on home page ...."</span><span class='op'>)</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>p</a></span><span class='op'>(</span><span class='st'>"Canvas is hidden on start, go to other tabs"</span><span class='op'>)</span>
      <span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/tabPanel.html'>tabPanel</a></span><span class='op'>(</span>
        <span class='st'>"Canvas C"</span>,
        value <span class='op'>=</span> <span class='st'>"tab_2"</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/markdown.html'>markdown</a></span><span class='op'>(</span>
          <span class='st'>'
          # canvas hidden on start
          In this example, you will see if the canvas is hidden,
          not on the first tab in a `tabsetPanel`, or other similar
          UI where you do not see canvas on start. Then, the canvas
          cannot be initiate properly using the default height value (100vh).
          Using the dynamic computed CSS height like "100%", or "100vh" with "hidden"
          (display = none) elements give the height of `0` on start.
          So, you **should not see the canvas** on this tab, but a broken
          structure and no canvas grid.

          To fix it, either give it a fixed `height` and `width` pixel unit, like

          - `height = "800px"`, `width = "1500px"`

          or bind the initiation event to a click of a button, the tab title or
          any other element you specify with the `on_start` argument. See the
          example code and watch how we do it in "canvas D-F".
          '</span>
        <span class='op'>)</span>,
        <span class='fu'>canvas</span><span class='op'>(</span>canvasID <span class='op'>=</span> <span class='st'>"canvas_c"</span><span class='op'>)</span>
      <span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/tabPanel.html'>tabPanel</a></span><span class='op'>(</span>
        <span class='st'>"Canvas D"</span>,
        value <span class='op'>=</span> <span class='st'>"tab_3"</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>h4</a></span><span class='op'>(</span><span class='st'>"Initiate canvas by a button"</span><span class='op'>)</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/actionButton.html'>actionButton</a></span><span class='op'>(</span><span class='st'>"start_canvas"</span>, <span class='st'>"Start Canvas C"</span><span class='op'>)</span>,
        <span class='fu'>canvas</span><span class='op'>(</span>
          canvasID <span class='op'>=</span> <span class='st'>"canvas_d"</span>,
          on_start <span class='op'>=</span> <span class='st'>"#start_canvas"</span>
        <span class='op'>)</span>
      <span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/tabPanel.html'>tabPanel</a></span><span class='op'>(</span>
        <span class='st'>"Canvas E"</span>,
        value <span class='op'>=</span> <span class='st'>"tab_4"</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>h4</a></span><span class='op'>(</span><span class='st'>"Initiate canvas by clicking tab title"</span><span class='op'>)</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>p</a></span><span class='op'>(</span><span class='st'>"Canvas initiate when first time users come to this tab"</span><span class='op'>)</span>,
        <span class='fu'>canvas</span><span class='op'>(</span>
          canvasID <span class='op'>=</span> <span class='st'>"canvas_e"</span>,
          on_start <span class='op'>=</span> <span class='st'>"#tabs li a[data-value='tab_4']"</span>
        <span class='op'>)</span>
      <span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/tabPanel.html'>tabPanel</a></span><span class='op'>(</span>
        <span class='st'>"Canvas F"</span>,
        value <span class='op'>=</span> <span class='st'>"tab_5"</span>,
        <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>h4</a></span><span class='op'>(</span><span class='st'>"Initiate canvas with fixed height and width"</span><span class='op'>)</span>,
        <span class='fu'>canvas</span><span class='op'>(</span>
          canvasID <span class='op'>=</span> <span class='st'>"canvas_f"</span>,
          height <span class='op'>=</span> <span class='st'>"800px"</span>,
          width <span class='op'>=</span> <span class='st'>"1500px"</span>
        <span class='op'>)</span>
      <span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span>

  <span class='va'>server</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>input</span>, <span class='va'>output</span>, <span class='va'>session</span><span class='op'>)</span> <span class='op'>{</span>

  <span class='op'>}</span>

  <span class='fu'><a href='https://rdrr.io/pkg/shiny/man/shinyApp.html'>shinyApp</a></span><span class='op'>(</span><span class='va'>ui</span>, <span class='va'>server</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://lezhang.me/'>Le Zhang</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


